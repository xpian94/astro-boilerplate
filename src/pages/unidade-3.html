<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTAgMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJtMzIgOTAgNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNNDAgNzBIMjBWNTBtMjAgMEwyMCA3MG00MC00MGgyMHYyMG0tMjAgMCAyMC0yMCIgY2xhc3M9ImEiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNMjAgNTBoMjB2MjBtLTIwIDAgMjAtMjBtNDAgMEg2MFYzMG0yMCAwTDYwIDUwIiBjbGFzcz0iYSIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNODcuOCA0Ny41Qzg5IDUwIDg3LjcgNTIgODUgNTJIMzVhOC43IDguNyAwIDAgMS03LjItNC41bC0xNS42LTMxQzExIDE0IDEyLjIgMTIgMTUgMTJoNTBhOC44IDguOCAwIDAgMSA3LjIgNC41ek02MCA1MnYzNm0tMTAgMGgyME00NSA0MmgyMCIvPjwvc3ZnPg==") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-bigger{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODBNNTIgOTBWMTAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-smaller{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}}@keyframes __bespoke_marp_transition_reduced_outgoing__{0%{opacity:1}to{opacity:0}}@keyframes __bespoke_marp_transition_reduced_incoming__{0%{mix-blend-mode:plus-lighter;opacity:0}to{mix-blend-mode:plus-lighter;opacity:1}}.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{::view-transition-group(*){animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-timing-function:ease}::view-transition-new(*),::view-transition-old(*){animation-delay:0s;animation-direction:var(--marp-bespoke-transition-animation-direction,normal);animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-fill-mode:both;animation-name:var(--marp-bespoke-transition-animation-name,var(--marp-bespoke-transition-animation-name-fallback,__bespoke_marp_transition_no_animation__));mix-blend-mode:normal}::view-transition-old(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_outgoing__;animation-timing-function:ease}::view-transition-new(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_incoming__;animation-timing-function:ease}::view-transition-new(root),::view-transition-old(root){animation-timing-function:linear}::view-transition-new(__bespoke_marp_transition_osc__),::view-transition-old(__bespoke_marp_transition_osc__){animation-duration:0s!important;animation-name:__bespoke_marp_transition_osc__!important}::view-transition-new(__bespoke_marp_transition_osc__){opacity:0!important}.bespoke-marp-transition-warming-up::view-transition-group(*),.bespoke-marp-transition-warming-up::view-transition-new(*),.bespoke-marp-transition-warming-up::view-transition-old(*){animation-play-state:paused!important}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide:not(.bespoke-marp-active) *{view-transition-name:none!important}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}}@media screen and (prefers-reduced-motion:reduce){svg.bespoke-marp-slide *{view-transition-name:none!important}}@media screen{[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{inset:0;position:absolute}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{view-transition-name:__bespoke_marp_transition_osc__;background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;contain:paint;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{background:#0288d1;flex:0 0 0;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{display:grid;font-family:Helvetica,Arial,sans-serif;grid-template:"current dragbar next" minmax(140px,1fr) "current dragbar note" 2fr "info    dragbar note" 3em;grid-template-columns:minmax(3px,var(--bespoke-marp-presenter-split-ratio,66%)) 0 minmax(3px,1fr);height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container{background:#0288d1;cursor:col-resize;grid-area:dragbar;margin-left:-3px;opacity:0;position:relative;transition:opacity .4s linear .1s;width:6px;z-index:10}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container:hover{opacity:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container.active{opacity:1;transition-delay:0s}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note;position:relative;z-index:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper{display:block;inset:0;position:absolute}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons{background:rgba(0,0,0,.65);border-radius:4px;bottom:0;display:flex;gap:4px;margin:12px;opacity:0;padding:6px;pointer-events:none;position:absolute;right:0;transition:opacity .2s linear}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons:focus-within,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper:focus-within+.bespoke-marp-presenter-note-buttons,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container:hover .bespoke-marp-presenter-note-buttons{opacity:1;pointer-events:auto}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{word-wrap:break-word;box-sizing:border-box;font-size:calc(1.1em*var(--bespoke-marp-note-font-scale, 1));height:calc(100% - 40px);margin:20px;overflow:auto;padding-right:3px;scrollbar-color:hsla(0,0%,93%,.5) transparent;scrollbar-width:thin;white-space:pre-wrap;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;overflow:hidden;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{box-sizing:border-box;display:block;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer:hover{cursor:pointer}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>div#\:\$p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#\:\$p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#\:\$p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:2em;margin:0.67em 0}div#\:\$p>svg>foreignObject>section video::-webkit-media-controls{will-change:transform}@page{size:1280px 720px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#\:\$p>svg>foreignObject>section{page-break-before:always;break-before:page}div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#\:\$p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}div#\:\$p>svg>foreignObject>:where(section){container-type:size}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG]{direction:ltr}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG]>svg{overflow:visible;min-height:1px;min-width:1px}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG]>svg a{fill:blue;stroke:blue}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG][display=true][width=full]{display:flex}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG][justify=left]{text-align:left}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG][justify=right]{text-align:right}div#\:\$p>svg>foreignObject>section g[data-mml-node=merror]>g{fill:red;stroke:red}div#\:\$p>svg>foreignObject>section g[data-mml-node=merror]>rect[data-background]{fill:yellow;stroke:none}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>line[data-line],div#\:\$p>svg>foreignObject>section svg[data-table]>g>line[data-line]{stroke-width:70px;fill:none}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>rect[data-frame],div#\:\$p>svg>foreignObject>section svg[data-table]>g>rect[data-frame]{stroke-width:70px;fill:none}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>.mjx-dashed,div#\:\$p>svg>foreignObject>section svg[data-table]>g>.mjx-dashed{stroke-dasharray:140}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>.mjx-dotted,div#\:\$p>svg>foreignObject>section svg[data-table]>g>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>g>svg{overflow:visible}div#\:\$p>svg>foreignObject>section [jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}div#\:\$p>svg>foreignObject>section [jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}div#\:\$p>svg>foreignObject>section mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#F8F8F8;color:black;box-shadow:2px 2px 5px #AAAAAA}div#\:\$p>svg>foreignObject>section g[data-mml-node=maction][data-toggle]{cursor:pointer}div#\:\$p>svg>foreignObject>section mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#F8F8F8;color:black}div#\:\$p>svg>foreignObject>section foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG] path[data-c],div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG] use[data-c]{stroke-width:3}@media print{div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG] path[data-c],div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG] use[data-c]{stroke-width:0}}div#\:\$p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}
/*!
 * Marp default theme.
 *
 * @theme default
 * @author Yuki Hattori
 *
 * @auto-scaling true
 * @size 16:9 1280px 720px
 * @size 4:3 960px 720px
 */div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section [data-theme=light]{--color-prettylights-syntax-comment:#6e7781;--color-prettylights-syntax-constant:#0550ae;--color-prettylights-syntax-entity:#6639ba;--color-prettylights-syntax-storage-modifier-import:#24292f;--color-prettylights-syntax-entity-tag:#116329;--color-prettylights-syntax-keyword:#cf222e;--color-prettylights-syntax-string:#0a3069;--color-prettylights-syntax-variable:#953800;--color-prettylights-syntax-brackethighlighter-unmatched:#82071e;--color-prettylights-syntax-invalid-illegal-text:#f6f8fa;--color-prettylights-syntax-invalid-illegal-bg:#82071e;--color-prettylights-syntax-carriage-return-text:#f6f8fa;--color-prettylights-syntax-carriage-return-bg:#cf222e;--color-prettylights-syntax-string-regexp:#116329;--color-prettylights-syntax-markup-list:#3b2300;--color-prettylights-syntax-markup-heading:#0550ae;--color-prettylights-syntax-markup-italic:#24292f;--color-prettylights-syntax-markup-bold:#24292f;--color-prettylights-syntax-markup-deleted-text:#82071e;--color-prettylights-syntax-markup-deleted-bg:#ffebe9;--color-prettylights-syntax-markup-inserted-text:#116329;--color-prettylights-syntax-markup-inserted-bg:#dafbe1;--color-prettylights-syntax-markup-changed-text:#953800;--color-prettylights-syntax-markup-changed-bg:#ffd8b5;--color-prettylights-syntax-markup-ignored-text:#eaeef2;--color-prettylights-syntax-markup-ignored-bg:#0550ae;--color-prettylights-syntax-meta-diff-range:#8250df;--color-prettylights-syntax-brackethighlighter-angle:#57606a;--color-prettylights-syntax-sublimelinter-gutter-mark:#8c959f;--color-prettylights-syntax-constant-other-reference-link:#0a3069;--color-fg-default:#1f2328;--color-fg-muted:#656d76;--color-fg-subtle:#6e7781;--color-canvas-default:#fff;--color-canvas-subtle:#f6f8fa;--color-border-default:#d0d7de;--color-border-muted:#d8dee4;--color-neutral-muted:rgba(175,184,193,.2);--color-accent-fg:#0969da;--color-accent-emphasis:#0969da;--color-attention-subtle:#fff8c5;--color-danger-fg:#d1242f;color-scheme:light}div#\:\$p>svg>foreignObject>section [data-theme=dark],div#\:\$p>svg>foreignObject>section:where(.invert){--color-prettylights-syntax-comment:#8b949e;--color-prettylights-syntax-constant:#79c0ff;--color-prettylights-syntax-entity:#d2a8ff;--color-prettylights-syntax-storage-modifier-import:#c9d1d9;--color-prettylights-syntax-entity-tag:#7ee787;--color-prettylights-syntax-keyword:#ff7b72;--color-prettylights-syntax-string:#a5d6ff;--color-prettylights-syntax-variable:#ffa657;--color-prettylights-syntax-brackethighlighter-unmatched:#f85149;--color-prettylights-syntax-invalid-illegal-text:#f0f6fc;--color-prettylights-syntax-invalid-illegal-bg:#8e1519;--color-prettylights-syntax-carriage-return-text:#f0f6fc;--color-prettylights-syntax-carriage-return-bg:#b62324;--color-prettylights-syntax-string-regexp:#7ee787;--color-prettylights-syntax-markup-list:#f2cc60;--color-prettylights-syntax-markup-heading:#1f6feb;--color-prettylights-syntax-markup-italic:#c9d1d9;--color-prettylights-syntax-markup-bold:#c9d1d9;--color-prettylights-syntax-markup-deleted-text:#ffdcd7;--color-prettylights-syntax-markup-deleted-bg:#67060c;--color-prettylights-syntax-markup-inserted-text:#aff5b4;--color-prettylights-syntax-markup-inserted-bg:#033a16;--color-prettylights-syntax-markup-changed-text:#ffdfb6;--color-prettylights-syntax-markup-changed-bg:#5a1e02;--color-prettylights-syntax-markup-ignored-text:#c9d1d9;--color-prettylights-syntax-markup-ignored-bg:#1158c7;--color-prettylights-syntax-meta-diff-range:#d2a8ff;--color-prettylights-syntax-brackethighlighter-angle:#8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark:#484f58;--color-prettylights-syntax-constant-other-reference-link:#a5d6ff;--color-fg-default:#e6edf3;--color-fg-muted:#7d8590;--color-fg-subtle:#6e7681;--color-canvas-default:#0d1117;--color-canvas-subtle:#161b22;--color-border-default:#30363d;--color-border-muted:#21262d;--color-neutral-muted:hsla(215,8%,47%,.4);--color-accent-fg:#2f81f7;--color-accent-emphasis:#1f6feb;--color-attention-subtle:rgba(187,128,9,.15);--color-danger-fg:#f85149;color-scheme:dark}div#\:\$p>svg>foreignObject>section{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;word-wrap:break-word;background-color:var(--color-canvas-default);color:var(--color-fg-default);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Noto Sans,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;margin:0}div#\:\$p>svg>foreignObject>section{--marpit-root-font-size:16px}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6):hover .anchor .octicon-link:before{background-color:currentColor;content:" ";display:inline-block;height:16px;-webkit-mask-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"/></svg>');mask-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"/></svg>');width:16px}div#\:\$p>svg>foreignObject>section details,div#\:\$p>svg>foreignObject>section figcaption,div#\:\$p>svg>foreignObject>section figure{display:block}div#\:\$p>svg>foreignObject>section summary{display:list-item}div#\:\$p>svg>foreignObject>section [hidden]{display:none!important}div#\:\$p>svg>foreignObject>section a{background-color:transparent;color:var(--color-accent-fg);text-decoration:none}div#\:\$p>svg>foreignObject>section abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}div#\:\$p>svg>foreignObject>section b,div#\:\$p>svg>foreignObject>section strong{font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section dfn{font-style:italic}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){border-bottom:1px solid var(--color-border-muted);font-size:2em;font-weight:var(--base-text-weight-semibold,600);margin:.67em 0;padding-bottom:.3em}div#\:\$p>svg>foreignObject>section mark{background-color:var(--color-attention-subtle);color:var(--color-fg-default)}div#\:\$p>svg>foreignObject>section small{font-size:90%}div#\:\$p>svg>foreignObject>section sub,div#\:\$p>svg>foreignObject>section sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}div#\:\$p>svg>foreignObject>section sub{bottom:-.25em}div#\:\$p>svg>foreignObject>section sup{top:-.5em}div#\:\$p>svg>foreignObject>section img{background-color:var(--color-canvas-default);border-style:none;box-sizing:content-box;max-width:100%}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section code,div#\:\$p>svg>foreignObject>section kbd,div#\:\$p>svg>foreignObject>section samp{font-family:monospace;font-size:1em}div#\:\$p>svg>foreignObject>section figure{margin:1em 40px}div#\:\$p>svg>foreignObject>section hr{background:transparent;background-color:var(--color-border-default);border:0;box-sizing:content-box;height:.25em;margin:24px 0;overflow:hidden;padding:0}div#\:\$p>svg>foreignObject>section input{font:inherit;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible}div#\:\$p>svg>foreignObject>section [type=button],div#\:\$p>svg>foreignObject>section [type=reset],div#\:\$p>svg>foreignObject>section [type=submit]{-webkit-appearance:button}div#\:\$p>svg>foreignObject>section [type=checkbox],div#\:\$p>svg>foreignObject>section [type=radio]{box-sizing:border-box;padding:0}div#\:\$p>svg>foreignObject>section [type=number]::-webkit-inner-spin-button,div#\:\$p>svg>foreignObject>section [type=number]::-webkit-outer-spin-button{height:auto}div#\:\$p>svg>foreignObject>section [type=search]::-webkit-search-cancel-button,div#\:\$p>svg>foreignObject>section [type=search]::-webkit-search-decoration{-webkit-appearance:none}div#\:\$p>svg>foreignObject>section ::-webkit-input-placeholder{color:inherit;opacity:.54}div#\:\$p>svg>foreignObject>section ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}div#\:\$p>svg>foreignObject>section a:hover{text-decoration:underline}div#\:\$p>svg>foreignObject>section ::-moz-placeholder{color:var(--color-fg-subtle);opacity:1}div#\:\$p>svg>foreignObject>section ::placeholder{color:var(--color-fg-subtle);opacity:1}div#\:\$p>svg>foreignObject>section hr:after,div#\:\$p>svg>foreignObject>section hr:before{content:"";display:table}div#\:\$p>svg>foreignObject>section hr:after{clear:both}div#\:\$p>svg>foreignObject>section table{border-collapse:collapse;border-spacing:0;display:block;max-width:100%;overflow:auto;width:-moz-max-content;width:max-content}div#\:\$p>svg>foreignObject>section td,div#\:\$p>svg>foreignObject>section th{padding:0}div#\:\$p>svg>foreignObject>section details summary{cursor:pointer}div#\:\$p>svg>foreignObject>section details:not([open])>:not(summary){display:none!important}div#\:\$p>svg>foreignObject>section [role=button]:focus,div#\:\$p>svg>foreignObject>section a:focus,div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus,div#\:\$p>svg>foreignObject>section input[type=radio]:focus{box-shadow:none;outline:2px solid var(--color-accent-fg);outline-offset:-2px}div#\:\$p>svg>foreignObject>section [role=button]:focus:not(:focus-visible),div#\:\$p>svg>foreignObject>section a:focus:not(:focus-visible),div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus:not(:focus-visible),div#\:\$p>svg>foreignObject>section input[type=radio]:focus:not(:focus-visible){outline:1px solid transparent}div#\:\$p>svg>foreignObject>section [role=button]:focus-visible,div#\:\$p>svg>foreignObject>section a:focus-visible,div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus-visible,div#\:\$p>svg>foreignObject>section input[type=radio]:focus-visible{box-shadow:none;outline:2px solid var(--color-accent-fg);outline-offset:-2px}div#\:\$p>svg>foreignObject>section a:not([class]):focus,div#\:\$p>svg>foreignObject>section a:not([class]):focus-visible,div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus,div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus-visible,div#\:\$p>svg>foreignObject>section input[type=radio]:focus,div#\:\$p>svg>foreignObject>section input[type=radio]:focus-visible{outline-offset:0}div#\:\$p>svg>foreignObject>section kbd{background-color:var(--color-canvas-subtle);border-bottom-color:var(--color-neutral-muted);border:1px solid var(--color-neutral-muted);border-radius:6px;box-shadow:inset 0 -1px 0 var(--color-neutral-muted);color:var(--color-fg-default);display:inline-block;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-weight:var(--base-text-weight-semibold,600);line-height:1.25;margin-bottom:16px;margin-top:24px}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){border-bottom:1px solid var(--color-border-muted);font-size:1.5em;padding-bottom:.3em}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-size:1.25em}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-size:1em}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-size:.875em}div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){color:var(--color-fg-muted);font-size:.85em;font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section p{margin-bottom:10px;margin-top:0}div#\:\$p>svg>foreignObject>section blockquote{border-left:.25em solid var(--color-border-default);color:var(--color-fg-muted);margin:0;padding:0 1em}div#\:\$p>svg>foreignObject>section ol,div#\:\$p>svg>foreignObject>section ul{margin-bottom:0;margin-top:0;padding-left:2em}div#\:\$p>svg>foreignObject>section ol ol,div#\:\$p>svg>foreignObject>section ul ol{list-style-type:lower-roman}div#\:\$p>svg>foreignObject>section ol ol ol,div#\:\$p>svg>foreignObject>section ol ul ol,div#\:\$p>svg>foreignObject>section ul ol ol,div#\:\$p>svg>foreignObject>section ul ul ol{list-style-type:lower-alpha}div#\:\$p>svg>foreignObject>section dd{margin-left:0}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section code,div#\:\$p>svg>foreignObject>section samp,div#\:\$p>svg>foreignObject>section tt{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){word-wrap:normal;margin-bottom:0;margin-top:0}div#\:\$p>svg>foreignObject>section .octicon{fill:currentColor;display:inline-block;overflow:visible!important;vertical-align:text-bottom}div#\:\$p>svg>foreignObject>section input::-webkit-inner-spin-button,div#\:\$p>svg>foreignObject>section input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}div#\:\$p>svg>foreignObject>section:after,div#\:\$p>svg>foreignObject>section:before{
  /* content:""; */display:table}div#\:\$p>svg>foreignObject>section:after{clear:both}div#\:\$p>svg>foreignObject>section>:first-child{margin-top:0!important}div#\:\$p>svg>foreignObject>section>:last-child{margin-bottom:0!important}div#\:\$p>svg>foreignObject>section a:not([href]){color:inherit;text-decoration:none}div#\:\$p>svg>foreignObject>section .absent{color:var(--color-danger-fg)}div#\:\$p>svg>foreignObject>section .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}div#\:\$p>svg>foreignObject>section .anchor:focus{outline:none}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section blockquote,div#\:\$p>svg>foreignObject>section details,div#\:\$p>svg>foreignObject>section dl,div#\:\$p>svg>foreignObject>section ol,div#\:\$p>svg>foreignObject>section p,div#\:\$p>svg>foreignObject>section table,div#\:\$p>svg>foreignObject>section ul{margin-bottom:16px;margin-top:0}div#\:\$p>svg>foreignObject>section blockquote>:first-child{margin-top:0}div#\:\$p>svg>foreignObject>section blockquote>:last-child{margin-bottom:0}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) .octicon-link{color:var(--color-fg-default);vertical-align:middle;visibility:hidden}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6):hover .anchor{text-decoration:none}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6):hover .anchor .octicon-link{visibility:visible}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) code,div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) tt,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) code,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) tt,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) code,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) tt,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) code,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) tt,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) code,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) tt,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) code,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) tt{font-size:inherit;padding:0 .2em}div#\:\$p>svg>foreignObject>section summary :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section summary :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section summary :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section summary :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section summary :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section summary :is(h6,marp-h6){display:inline-block}div#\:\$p>svg>foreignObject>section summary :is(h1,marp-h1) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h2,marp-h2) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h3,marp-h3) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h4,marp-h4) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h5,marp-h5) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h6,marp-h6) .anchor{margin-left:-40px}div#\:\$p>svg>foreignObject>section summary :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section summary :is(h2,marp-h2){border-bottom:0;padding-bottom:0}div#\:\$p>svg>foreignObject>section ol.no-list,div#\:\$p>svg>foreignObject>section ul.no-list{list-style-type:none;padding:0}div#\:\$p>svg>foreignObject>section ol[type="a s"]{list-style-type:lower-alpha}div#\:\$p>svg>foreignObject>section ol[type="A s"]{list-style-type:upper-alpha}div#\:\$p>svg>foreignObject>section ol[type="i s"]{list-style-type:lower-roman}div#\:\$p>svg>foreignObject>section ol[type="I s"]{list-style-type:upper-roman}div#\:\$p>svg>foreignObject>section div>ol:not([type]),div#\:\$p>svg>foreignObject>section ol[type="1"]{list-style-type:decimal}div#\:\$p>svg>foreignObject>section ol ol,div#\:\$p>svg>foreignObject>section ol ul,div#\:\$p>svg>foreignObject>section ul ol,div#\:\$p>svg>foreignObject>section ul ul{margin-bottom:0;margin-top:0}div#\:\$p>svg>foreignObject>section li>p{margin-top:16px}div#\:\$p>svg>foreignObject>section li+li{margin-top:.25em}div#\:\$p>svg>foreignObject>section dl{padding:0}div#\:\$p>svg>foreignObject>section dl dt{font-size:1em;font-style:italic;font-weight:var(--base-text-weight-semibold,600);margin-top:16px;padding:0}div#\:\$p>svg>foreignObject>section dl dd{margin-bottom:16px;padding:0 16px}div#\:\$p>svg>foreignObject>section table th{font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section table td,div#\:\$p>svg>foreignObject>section table th{border:1px solid var(--color-border-default);padding:6px 13px}div#\:\$p>svg>foreignObject>section table td>:last-child{margin-bottom:0}div#\:\$p>svg>foreignObject>section table tr{background-color:var(--color-canvas-default);border-top:1px solid var(--color-border-muted)}div#\:\$p>svg>foreignObject>section table tr:nth-child(2n){background-color:var(--color-canvas-subtle)}div#\:\$p>svg>foreignObject>section table img{background-color:transparent}div#\:\$p>svg>foreignObject>section img[align=right]{padding-left:20px}div#\:\$p>svg>foreignObject>section img[align=left]{padding-right:20px}div#\:\$p>svg>foreignObject>section .emoji{background-color:transparent;max-width:none;vertical-align:text-top}div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame,div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame>:is(span,marp-span){display:block;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame>:is(span,marp-span){border:1px solid var(--color-border-default);float:left;margin:13px 0 0;padding:7px;width:auto}div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame :is(span,marp-span) img{display:block;float:left}div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame :is(span,marp-span) :is(span,marp-span){clear:both;color:var(--color-fg-default);display:block;padding:5px 0 0}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-center{clear:both;display:block;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-center>:is(span,marp-span){display:block;margin:13px auto 0;overflow:hidden;text-align:center}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-center :is(span,marp-span) img{margin:0 auto;text-align:center}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-right{clear:both;display:block;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-right>:is(span,marp-span){display:block;margin:13px 0 0;overflow:hidden;text-align:right}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-right :is(span,marp-span) img{margin:0;text-align:right}div#\:\$p>svg>foreignObject>section :is(span,marp-span).float-left{display:block;float:left;margin-right:13px;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).float-left :is(span,marp-span){margin:13px 0 0}div#\:\$p>svg>foreignObject>section :is(span,marp-span).float-right{display:block;float:right;margin-left:13px;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).float-right>:is(span,marp-span){display:block;margin:13px auto 0;overflow:hidden;text-align:right}div#\:\$p>svg>foreignObject>section code,div#\:\$p>svg>foreignObject>section tt{background-color:var(--color-neutral-muted);border-radius:6px;font-size:85%;margin:0;padding:.2em .4em;white-space:break-spaces}div#\:\$p>svg>foreignObject>section code br,div#\:\$p>svg>foreignObject>section tt br{display:none}div#\:\$p>svg>foreignObject>section del code{text-decoration:inherit}div#\:\$p>svg>foreignObject>section samp{font-size:85%}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) code{font-size:100%}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre)>code{background:transparent;border:0;margin:0;padding:0;white-space:pre;word-break:normal}div#\:\$p>svg>foreignObject>section .highlight{margin-bottom:16px}div#\:\$p>svg>foreignObject>section .highlight :is(pre,marp-pre){margin-bottom:0;word-break:normal}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){background-color:var(--color-canvas-subtle);border-radius:6px;color:var(--color-fg-default);font-size:85%;line-height:1.45;overflow:auto;padding:16px}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) code,div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) tt{word-wrap:normal;background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}div#\:\$p>svg>foreignObject>section .csv-data td,div#\:\$p>svg>foreignObject>section .csv-data th{font-size:12px;line-height:1;overflow:hidden;padding:5px;text-align:left;white-space:nowrap}div#\:\$p>svg>foreignObject>section .csv-data .blob-num{background:var(--color-canvas-default);border:0;padding:10px 8px 9px;text-align:right}div#\:\$p>svg>foreignObject>section .csv-data tr{border-top:0}div#\:\$p>svg>foreignObject>section .csv-data th{background:var(--color-canvas-subtle);border-top:0;font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section [data-footnote-ref]:before{content:"["}div#\:\$p>svg>foreignObject>section [data-footnote-ref]:after{content:"]"}div#\:\$p>svg>foreignObject>section .footnotes{border-top:1px solid var(--color-border-default);color:var(--color-fg-muted);font-size:12px}div#\:\$p>svg>foreignObject>section div#\:\$p>svg>foreignObject>section section.footnotes{--marpit-root-font-size:12px}div#\:\$p>svg>foreignObject>section .footnotes ol{padding-left:16px}div#\:\$p>svg>foreignObject>section .footnotes ol ul{display:inline-block;margin-top:16px;padding-left:16px}div#\:\$p>svg>foreignObject>section .footnotes li{position:relative}div#\:\$p>svg>foreignObject>section .footnotes li:target:before{border:2px solid var(--color-accent-emphasis);border-radius:6px;bottom:-8px;content:"";left:-24px;pointer-events:none;position:absolute;right:-8px;top:-8px}div#\:\$p>svg>foreignObject>section .footnotes li:target{color:var(--color-fg-default)}div#\:\$p>svg>foreignObject>section .footnotes .data-footnote-backref g-emoji{font-family:monospace}div#\:\$p>svg>foreignObject>section .pl-c{color:var(--color-prettylights-syntax-comment)}div#\:\$p>svg>foreignObject>section .pl-c1,div#\:\$p>svg>foreignObject>section .pl-s .pl-v{color:var(--color-prettylights-syntax-constant)}div#\:\$p>svg>foreignObject>section .pl-e,div#\:\$p>svg>foreignObject>section .pl-en{color:var(--color-prettylights-syntax-entity)}div#\:\$p>svg>foreignObject>section .pl-s .pl-s1,div#\:\$p>svg>foreignObject>section .pl-smi{color:var(--color-prettylights-syntax-storage-modifier-import)}div#\:\$p>svg>foreignObject>section .pl-ent{color:var(--color-prettylights-syntax-entity-tag)}div#\:\$p>svg>foreignObject>section .pl-k{color:var(--color-prettylights-syntax-keyword)}div#\:\$p>svg>foreignObject>section .pl-pds,div#\:\$p>svg>foreignObject>section .pl-s,div#\:\$p>svg>foreignObject>section .pl-s .pl-pse .pl-s1,div#\:\$p>svg>foreignObject>section .pl-sr,div#\:\$p>svg>foreignObject>section .pl-sr .pl-cce,div#\:\$p>svg>foreignObject>section .pl-sr .pl-sra,div#\:\$p>svg>foreignObject>section .pl-sr .pl-sre{color:var(--color-prettylights-syntax-string)}div#\:\$p>svg>foreignObject>section .pl-smw,div#\:\$p>svg>foreignObject>section .pl-v{color:var(--color-prettylights-syntax-variable)}div#\:\$p>svg>foreignObject>section .pl-bu{color:var(--color-prettylights-syntax-brackethighlighter-unmatched)}div#\:\$p>svg>foreignObject>section .pl-ii{background-color:var(--color-prettylights-syntax-invalid-illegal-bg);color:var(--color-prettylights-syntax-invalid-illegal-text)}div#\:\$p>svg>foreignObject>section .pl-c2{background-color:var(--color-prettylights-syntax-carriage-return-bg);color:var(--color-prettylights-syntax-carriage-return-text)}div#\:\$p>svg>foreignObject>section .pl-sr .pl-cce{color:var(--color-prettylights-syntax-string-regexp);font-weight:700}div#\:\$p>svg>foreignObject>section .pl-ml{color:var(--color-prettylights-syntax-markup-list)}div#\:\$p>svg>foreignObject>section .pl-mh,div#\:\$p>svg>foreignObject>section .pl-mh .pl-en,div#\:\$p>svg>foreignObject>section .pl-ms{color:var(--color-prettylights-syntax-markup-heading);font-weight:700}div#\:\$p>svg>foreignObject>section .pl-mi{color:var(--color-prettylights-syntax-markup-italic);font-style:italic}div#\:\$p>svg>foreignObject>section .pl-mb{color:var(--color-prettylights-syntax-markup-bold);font-weight:700}div#\:\$p>svg>foreignObject>section .pl-md{background-color:var(--color-prettylights-syntax-markup-deleted-bg);color:var(--color-prettylights-syntax-markup-deleted-text)}div#\:\$p>svg>foreignObject>section .pl-mi1{background-color:var(--color-prettylights-syntax-markup-inserted-bg);color:var(--color-prettylights-syntax-markup-inserted-text)}div#\:\$p>svg>foreignObject>section .pl-mc{background-color:var(--color-prettylights-syntax-markup-changed-bg);color:var(--color-prettylights-syntax-markup-changed-text)}div#\:\$p>svg>foreignObject>section .pl-mi2{background-color:var(--color-prettylights-syntax-markup-ignored-bg);color:var(--color-prettylights-syntax-markup-ignored-text)}div#\:\$p>svg>foreignObject>section .pl-mdr{color:var(--color-prettylights-syntax-meta-diff-range);font-weight:700}div#\:\$p>svg>foreignObject>section .pl-ba{color:var(--color-prettylights-syntax-brackethighlighter-angle)}div#\:\$p>svg>foreignObject>section .pl-sg{color:var(--color-prettylights-syntax-sublimelinter-gutter-mark)}div#\:\$p>svg>foreignObject>section .pl-corl{color:var(--color-prettylights-syntax-constant-other-reference-link);text-decoration:underline}div#\:\$p>svg>foreignObject>section g-emoji{display:inline-block;font-family:Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:1em;font-style:normal!important;font-weight:var(--base-text-weight-normal,400);line-height:1;min-width:1ch;vertical-align:-.075em}div#\:\$p>svg>foreignObject>section g-emoji img{height:1em;width:1em}div#\:\$p>svg>foreignObject>section .task-list-item{list-style-type:none}div#\:\$p>svg>foreignObject>section .task-list-item label{font-weight:var(--base-text-weight-normal,400)}div#\:\$p>svg>foreignObject>section .task-list-item.enabled label{cursor:pointer}div#\:\$p>svg>foreignObject>section .task-list-item+.task-list-item{margin-top:4px}div#\:\$p>svg>foreignObject>section .task-list-item .handle{display:none}div#\:\$p>svg>foreignObject>section .task-list-item-checkbox{margin:0 .2em .25em -1.4em;vertical-align:middle}div#\:\$p>svg>foreignObject>section .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}div#\:\$p>svg>foreignObject>section .contains-task-list{position:relative}div#\:\$p>svg>foreignObject>section .contains-task-list:focus-within .task-list-item-convert-container,div#\:\$p>svg>foreignObject>section .contains-task-list:hover .task-list-item-convert-container{clip:auto;display:block;height:24px;overflow:visible;width:auto}div#\:\$p>svg>foreignObject>section ::-webkit-calendar-picker-indicator{filter:invert(50%)}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){color:var(--h1-color);font-size:1.6em}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){border-bottom:none}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){font-size:1.3em}div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-size:1.1em}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-size:1.05em}div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-size:1em}div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-size:.9em}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) strong,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) strong,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) strong,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) strong,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) strong,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) strong{color:var(--heading-strong-color);font-weight:inherit}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6)::part(auto-scaling){max-height:563px}div#\:\$p>svg>foreignObject>section hr{height:0;padding-top:.25em}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){border:1px solid var(--color-border-default);line-height:1.15;overflow:visible}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre)::part(auto-scaling){max-height:529px}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs){color:var(--color-prettylights-syntax-storage-modifier-import)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-doctag),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-keyword),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-meta .hljs-keyword),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-template-tag),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-template-variable),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-type),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-variable.language_){color:var(--color-prettylights-syntax-keyword)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-title),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-title.class_),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-title.class_.inherited__),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-title.function_){color:var(--color-prettylights-syntax-entity)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-attr),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-attribute),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-literal),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-meta),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-number),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-operator),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-attr),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-class),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-id),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-variable){color:var(--color-prettylights-syntax-constant)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-meta .hljs-string),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-regexp),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-string){color:var(--color-prettylights-syntax-string)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-built_in),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-symbol){color:var(--color-prettylights-syntax-variable)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-code),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-comment),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-formula){color:var(--color-prettylights-syntax-comment)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-name),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-quote),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-pseudo),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-tag){color:var(--color-prettylights-syntax-entity-tag)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-subst){color:var(--color-prettylights-syntax-storage-modifier-import)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-section){color:var(--color-prettylights-syntax-markup-heading);font-weight:700}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-bullet){color:var(--color-prettylights-syntax-markup-list)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-emphasis){color:var(--color-prettylights-syntax-markup-italic);font-style:italic}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-strong){color:var(--color-prettylights-syntax-markup-bold);font-weight:700}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-addition){background-color:var(--color-prettylights-syntax-markup-inserted-bg);color:var(--color-prettylights-syntax-markup-inserted-text)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-deletion){background-color:var(--color-prettylights-syntax-markup-deleted-bg);color:var(--color-prettylights-syntax-markup-deleted-text)}div#\:\$p>svg>foreignObject>section footer,div#\:\$p>svg>foreignObject>section header{color:var(--header-footer-color);font-size:18px;left:30px;margin:0;position:absolute}div#\:\$p>svg>foreignObject>section header{top:21px}div#\:\$p>svg>foreignObject>section footer{bottom:21px}div#\:\$p>svg>foreignObject>section{--h1-color:#246;--header-footer-color:hsla(0,0%,40%,.75);--heading-strong-color:#48c;--paginate-color:#777;align-items:stretch;display:flex;flex-flow:column nowrap;font-size:29px;height:720px;justify-content:center;padding:78.5px;width:1280px}div#\:\$p>svg>foreignObject>section{--marpit-root-font-size:29px}div#\:\$p>svg>foreignObject>section:where(.invert){--h1-color:#cee7ff;--header-footer-color:hsla(0,0%,60%,.75);--heading-strong-color:#7bf;--paginate-color:#999}div#\:\$p>svg>foreignObject>section>:last-child,div#\:\$p>svg>foreignObject>section[data-footer]>:nth-last-child(2){margin-bottom:0}div#\:\$p>svg>foreignObject>section>:first-child,div#\:\$p>svg>foreignObject>section>header:first-child+*{margin-top:0}div#\:\$p>svg>foreignObject>section:after{bottom:21px;color:var(--paginate-color);font-size:24px;padding:0;position:absolute;right:30px}div#\:\$p>svg>foreignObject>section:after{--marpit-root-font-size:24px}div#\:\$p>svg>foreignObject>section[data-color] :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section[data-color] :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section[data-color] :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section[data-color] :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section[data-color] :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section[data-color] :is(h6,marp-h6){color:currentcolor}div#\:\$p>svg>foreignObject>section img[alt~=center]{display:block;margin:0 auto}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]{columns:initial!important;display:block!important;padding:0!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure>figcaption{position:absolute;border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;white-space:nowrap;width:1px}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content],div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#\:\$p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id=":$p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="1" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="1" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="unidade-iii-tdd-avan%C3%A7ado-n%C3%ADveis-de-teste-e-tdd-na-programa%C3%A7%C3%A3o-web">Unidade III: TDD Avanado, Nveis de Teste e TDD na Programao Web</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="2" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;assets/Pasted%20image%2020240812122534.png&quot;);background-size:60%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="2" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="2" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="content"><footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="2" style="" data-marpit-pagination-total="220" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="3" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="3" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="tudo-%C3%A9-feito-de-mini-stones-pedrinhas-ou-tijolinhos">Tudo  feito de Mini Stones (&quot;pedrinhas&quot; ou &quot;tijolinhos&quot;)</h1>
<p>Algumas vezes vamos empacar nos testes e ficarmos um pouco perdidos. Devemo-nos lembrar de que cada etapa conquistada  um tijolinho e o seu correto posicionamento determina as bases do nosso cdigo e profissionalismo.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="4" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="bibliografia-desta-unidade">Bibliografia desta Unidade</h1>
<ol>
<li>
<p>Valente, Marco Tulio de Oliveira. Engenharia de Software Moderna. Marco Tulio de Oliveira Valente, 2020.</p>
</li>
<li>
<p>Freeman, Steve, and Nat Pryce. Growing Object-Oriented Software, Guided by Tests. Addison Wesley, 2010.</p>
</li>
<li>
<p>Manual de Devops: como obter agilidade, confiabilidade e segurana em organizaes tecnolgicas. Alta Books, 2021.</p>
</li>
</ol>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="5" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="tdd-avan%C3%A7ado">TDD Avanado</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="6" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="hands-on-algoritmo-de-ordena%C3%A7%C3%A3o">Hands-on: Algoritmo de Ordenao</h1>
<p>Prtica acompanhada pelo instrutor.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="7" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="hands-on-tad-de-pilha-parte-ii">Hands-on: TAD de Pilha (Parte II)</h1>
<p>Vamos comear a testar os seguintes comportamentos:</p>
<ul>
<li>Dada uma capacidade <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.459ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 645 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g></g></g></svg></mjx-container>, ao empilhar mais um elemento (<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="5.356ex" height="1.781ex" role="img" focusable="false" viewBox="0 -705 2367.4 787"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mo" transform="translate(867.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(1867.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container>), dispare um erro de transbordamento (Qual o melhor nome possvel?);</li>
<li>A pilha precisa ter capacidade inicial para 10 elementos por padro (<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="7.406ex" height="1.952ex" role="img" focusable="false" viewBox="0 -705 3273.5 862.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(646,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(1217.7,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(2273.5,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)"></path></g></g></g></svg></mjx-container>)</li>
<li>Deve ser permitido criar uma pilha com capacidade inicial maior que o padro (<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="7.406ex" height="1.952ex" role="img" focusable="false" viewBox="0 -705 3273.5 862.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(646,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(1217.7,0)"><path data-c="3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path></g><g data-mml-node="mn" transform="translate(2273.5,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(500,0)"></path></g></g></g></svg></mjx-container>)</li>
<li>Dar capacidade de programao genrica (Java Generics)</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="8" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="8" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="freeman--pryce-2010">Freeman &amp; Pryce (2010)</h1>
<ul>
<li>A publicao impactou toda a indstria de software comercial  poca;</li>
<li>Turbinou o uso do TDD para grandes projetos, do incio ao fim;</li>
<li>Teve observao dos autores do Agile (Kent Beck, Cunningham, Robert C. Martin, ...)</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="9" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;assets/freemanpryce2010.png&quot;);background-size:40%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="9" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="9" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="content"><footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="9" style="" data-marpit-pagination-total="220" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="10" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="10" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="os-testes-t%C3%AAm-n%C3%ADveis-e-por-onde-come%C3%A7ar">Os testes tm nveis e por onde comear</h1>
<p>Vamos aos conceitos trazidos por Freeman e Pryce (2010).</p>
<ul>
<li>Aceitao (Acceptance): tambm chamado de Functional, System ou Customer Tests</li>
<li>Integrao (Integration)</li>
<li>Unidade (Unit)</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="11" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="teste-de-aceita%C3%A7%C3%A3o-acceptance">Teste de Aceitao (Acceptance)</h1>
<h2 id="devemo-nos-perguntar-o-sistema-inteiro-funciona-como-o-esperado">Devemo-nos perguntar &quot;O sistema inteiro funciona como o esperado?&quot;</h2>
<ul>
<li>O teste de aceitao adota a viso do usurio utilizando o sistema</li>
<li>Uma nova feature (recurso): comeamos a escrever um Teste de Aceitao
<ul>
<li>Se est falhando: o sistema ainda no entrega o que deveria</li>
<li>Deu &quot;verdinho&quot;: cumprimos o critrio de aceite. Recurso entregue.</li>
</ul>
</li>
<li>Atua como um guia de escrita de cdigo</li>
</ul>
<blockquote>
<p>Exemplo de Critrio de Aceite: <strong>Um Cliente pode pagar o carto de crdito em determinadas bandeiras.</strong> (Valente, 2022)</p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="12" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="12" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="regra-principal-do-teste-de-aceita%C3%A7%C3%A3o-sempre-que-poss%C3%ADvel-teste-o-sistema-inteiro-in%C3%ADcio-ao-fim-end-to-end-sem-chamar-o-c%C3%B3digo-interno">Regra Principal do Teste de Aceitao: Sempre que possvel, teste o sistema inteiro (incio ao fim, end-to-end) sem chamar o cdigo interno.</h2>
<p>Isto , devemos fazer como <strong>CAIXA PRETA</strong>. Testes de Caixa Preta significam que interagimos somente com a parte externa (outside), atravs de:</p>
<ul>
<li>Simulaes de componentes de Interface Grfica</li>
<li>Chamando Web Services (via APIs)</li>
<li>Analisando a estrutura de documentos gerados (parsing)</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="13" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="como-assim-sem-chamar-o-c%C3%B3digo-interno">Como assim 'sem chamar o cdigo interno'?</h2>
<h3 id="devemos-interagir-com-interfaces-externas-como-apis">Devemos interagir com interfaces externas (como APIs)</h3>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="14" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="um-teste-de-aceita%C3%A7%C3%A3o-deve-exercitar-tudo">Um Teste de Aceitao deve exercitar tudo</h2>
<ul>
<li>Banco de Dados</li>
<li>API de terceiros</li>
<li>Servidor de Integrao Contnua (Continuous Integration ou CI)</li>
</ul>
<blockquote>
<p> o teste mais desafiador. Exige que tenhamos todos os componentes mais bsicos primeiro.  comumente ignorado, elevando-se os riscos de regresso de funcionalidades.</p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="15" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="15" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="como-se-parece">Como se parece?</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="16" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-gherkin"><span class="hljs-comment"># language: pt</span>

Funcionalidade: Como Cliente Eu gostaria de consultar produto para comprar
  Como um Cliente a procura de um produto
  Eu gostaria de saber se o produto est a venda
  De modo que Eu possa ser encorajado a compr-lo.

  Criterios de Aceite:
    1. Procura por um produto por categoria
    2. Recebe um aviso ao procurar categoria indisponivel

  Fundo:
    Dados produtos cadastrados na loja

  Delineacao do Cenario: Procura por um produto por categoria
    Quando o cliente procurar por <span class="hljs-string">&quot;&lt;categoria&gt;&quot;</span>
    Entao uma lista de produtos deve aparecer com produtos pertencentes a <span class="hljs-string">&quot;&lt;categoria&gt;&quot;</span>
    E cada produto mostrado aparecera com <span class="hljs-string">&quot;&lt;nome&gt;&quot;</span>, <span class="hljs-string">&quot;&lt;quantidade&gt;&quot;</span> e <span class="hljs-string">&quot;&lt;disponivelAVenda&gt;&quot;</span>
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="17" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="o-aspecto-da-regressividade">O Aspecto da Regressividade</h2>
<p> o simples fato de algo que funcionava e, depois de algumas alteraes no sistema, deixou de funcionar.  onde mais nos aborrecemos enquanto usurios.</p>
<ul>
<li>Testes de aceitao de features terminadas: indicadores de regresso caso ocorra;</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="18" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="18" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="sobre-integra%C3%A7%C3%A3o-cont%C3%ADnua-ci-e-devops">Sobre Integrao Contnua (CI) e DevOps</h1>
<ul>
<li>Elemento fortemente defendido em DevOps, mas j estava presente em Extreme Programming (XP);</li>
<li>O que faz?
<ol>
<li>Integra o cdigo produzido por toda a equipe (Exemplo: aps Merge de Pull Request);</li>
<li>Compila e executa os testes (build and tests) &quot;mergeados&quot;;</li>
<li>Leva o cdigo para Servidor de Delivery (Continuous Delivery);</li>
<li>De Delivery vai para Deployment (Continuous Deployment)</li>
<li>Entra em Operao.</li>
</ol>
</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="19" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="teste-de-integra%C3%A7%C3%A3o-integration">Teste de Integrao (Integration)</h1>
<h2 id="devemos-nos-perguntar-o-nosso-c%C3%B3digo-funciona-com-um-outro-e-este-outro-n%C3%A3o-podemos-alterar">Devemos nos perguntar: o nosso cdigo funciona com um outro e este outro no podemos alterar?</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="20" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="20" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="integra%C3%A7%C3%A3o-%C3%A9-o-ato-de-se-juntar-a-nosso-c%C3%B3digo-com-um-outro-que-a-equipe-n%C3%A3o-pode-alterar">Integrao  o ato de se juntar a nosso cdigo com um outro que a equipe no pode alterar.</h2>
<p>Podemos pegar nosso cdigo e testar junto com os seguintes cdigos externos:</p>
<ul>
<li>Mapeador de Persistncia: Jakarta Persistence (JPA);</li>
<li>Biblioteca de outro time que no podemos alterar.</li>
<li>...</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="21" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="principal-prop%C3%B3sito-do-teste-integrado-verificar-se-abstra%C3%A7%C3%B5es-constru%C3%ADdas-com-o-c%C3%B3digo-dos-outros-ir%C3%A3o-funcionar-como-deveria">Principal Propsito do Teste Integrado: verificar se abstraes construdas com o cdigo dos outros iro funcionar como deveria.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="22" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="ok-mas-um-teste-de-integra%C3%A7%C3%A3o-%C3%A9-muito-parecido-com-o-aceita%C3%A7%C3%A3o-certo">Ok, mas um Teste de Integrao  muito parecido com o Aceitao, certo?</h2>
<p>No. Em pequenas aplicaes, quase sempre no precisaremos de Teste Integrado. Um de Aceitao j bastaria. Entretanto, Testes de Aceitao so mais lentos para verificar problemas de configurao. Aqui poderia fazer mais sentido o uso de testes integrados mais rpidos de serem executados.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="23" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="23" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="quando-devemos-escrever-teste-de-integra%C3%A7%C3%A3o">Quando devemos escrever Teste de Integrao?</h1>
<ul>
<li>Depende da cultura;</li>
<li>Tecnologias...</li>
<li>Mas por experincia minha, pode ser til para testar queries complexas com JPA (RAW SQL) e aspectos de conexo, persistncia, etc
<ul>
<li>Regras de gerao de Chave Primria (Incremental, por UUID, ...)</li>
<li>Saber se o cdigo de Service (Domnio) funciona bem com queries elaboradas</li>
</ul>
</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="24" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="24" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="como-se-parece-1">Como se parece?</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span> 
<span class="hljs-meta">@Sql(scripts = &quot;insert-products.sql&quot;, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)</span> 
<span class="hljs-meta">@Sql(scripts = &quot;delete-products.sql&quot;, executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)</span> 
<span class="hljs-keyword">void</span> <span class="hljs-title function_">quantityByProductTypeTest</span><span class="hljs-params">()</span> { 
    assertThat(stockService.getQuantityByProductType(<span class="hljs-string">&quot;Perfume&quot;</span>)).isEqualTo(<span class="hljs-number">3L</span>); 
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">StockService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductRepository productRepository;

    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getQuantityByProductType</span><span class="hljs-params">(String name)</span>{ 
        <span class="hljs-keyword">return</span> productRepository.countByProductType_Name(name); 
    } 
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProductRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaRepository</span>&lt;Product, UUID&gt; {}
</code></pre>
<p>Fonte: <a href="https://jpa-buddy.com/guides/writing-integration-tests-in-spring-boot-app-with-jpa/">Writing Integration Tests in Spring Boot App with JPA using JUnit5, Testcontainers and JPA Buddy</a></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="25" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="teste-de-unidade-unit">Teste de Unidade (Unit)</h1>
<h2 id="devemos-nos-perguntar-nossos-objetos-fazem-a-coisa-que-deveria-ser-feita-%C3%A9-f%C3%A1cil-de-trabalhar-com-eles">Devemos nos perguntar: nossos objetos fazem a coisa que deveria ser feita?  fcil de trabalhar com eles?</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="26" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="26" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="como-se-parece-2">Como se parece?</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StackTest</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">canCreateEmptyStack</span><span class="hljs-params">()</span> {
      <span class="hljs-type">var</span> <span class="hljs-variable">stack</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>();
      assertTrue(stack.isEmpty());
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="Instrutor Cristian Mello" data-background-color="black" lang="en-US" data-marpit-pagination="27" style="--paginate:true;--footer:Instrutor Cristian Mello;--background-color:black;background-color:black;background-image:none;" data-marpit-pagination-total="220" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;assets/think-emoji.gif&quot;);background-size:100%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="27" data-paginate="true" data-footer="Instrutor Cristian Mello" data-background-color="black" lang="en-US" data-marpit-pagination="27" style="--paginate:true;--footer:Instrutor Cristian Mello;--background-color:black;background-color:black;background-image:none;" data-marpit-pagination-total="220" data-marpit-advanced-background="content"><footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-footer="Instrutor Cristian Mello" data-background-color="black" lang="en-US" data-marpit-pagination="27" style="" data-marpit-pagination-total="220" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="28" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="28" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="teste-unit%C3%A1rio-promove-c%C3%B3digo-bem-projetado-well-designed">Teste Unitrio promove cdigo bem projetado (well-designed)</h1>
<ul>
<li>Foramos a classe a ser mais facilmente testada;</li>
<li><strong>Dependncias externas</strong> precisam ser substitudas;</li>
<li><strong>Responsabilidades</strong> precisam ser claras;</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="29" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="29" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="teste-unit%C3%A1rio-alcan%C3%A7a-as-2-qualidades-mais-desejadas-de-um-software-c%C3%B3digo-fracamente-acoplado-e-com-alta-coes%C3%A3o">Teste Unitrio alcana as 2 qualidades mais desejadas de um software: cdigo fracamente acoplado e com alta coeso.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="30" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="30" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="calma-o-que-%C3%A9-acoplamento-e-coes%C3%A3o">Calma... O que  Acoplamento e Coeso?</h1>
<h2 id="s%C3%A3o-uma-medida-da-facilidade-com-que-conseguimos-alterar-o-comportamento-de-um-c%C3%B3digo-%C3%A9-uma-medida-aproximada">So uma medida da facilidade com que conseguimos alterar o comportamento de um cdigo.  uma medida aproximada.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="31" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="31" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="acoplamento">Acoplamento</h1>
<h2 id="alto-acoplamento-alterou-uma-parte-do-sistema-todas-as-restantes-quebram-altera%C3%A7%C3%B5es-exigem-reconstru%C3%A7%C3%A3o-de-todo-o-sistema">Alto acoplamento: alterou uma parte do sistema, todas as restantes quebram. Alteraes exigem reconstruo de todo o sistema.</h2>
<h2 id="fraco-acoplamento-alterou-uma-parte-poucas-ou-nenhuma-parte-do-sistema-precisa-ser-alterada">Fraco acoplamento: alterou uma parte, poucas ou nenhuma parte do sistema precisa ser alterada.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="32" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="32" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="coes%C3%A3o">Coeso</h1>
<h2 id="medida-de-responsabilidades-de-uma-unidade-pode-ser-uma-fun%C3%A7%C3%A3o-ou-classe">Medida de responsabilidades de uma unidade (pode ser uma funo ou classe)</h2>
<h2 id="baixa-coes%C3%A3o-uma-unidade-que-faz-muita-coisa-que-n%C3%A3o-deveria">Baixa Coeso: uma unidade que faz muita coisa que no deveria</h2>
<p>Exemplos:</p>
<ol>
<li>
<p>Uma Classe que cuida do parse de Datas e de URLs ao mesmo tempo. O que uma coisa tem a ver com outra?</p>
</li>
<li>
<p>Uma Classe que deveria processar URL mas s verifica partes de uma URL e no ela toda. Isso fora a procura de outros processadores para complementar o trabalho que ela deveria fazer.</p>
</li>
</ol>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="33" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="33" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="alta-coes%C3%A3o-uma-unidade-faz-o-que-deveria-e-faz-completamente">Alta Coeso: uma unidade faz o que deveria e faz completamente</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="34" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="34" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="seja-num-projeto-legado-sem-testes-ou-novo-teste-de-aceita%C3%A7%C3%A3o-%C3%A9-quem-manda">Seja num projeto legado sem testes ou novo: Teste de Aceitao  quem manda</h1>
<h2 id="devemos-come%C3%A7ar-pelos-testes-de-aceita%C3%A7%C3%A3o-a-cada-nova-feature">Devemos comear pelos Testes de Aceitao a cada nova Feature</h2>
<ul>
<li>Escreva um cdigo de teste que falha;</li>
<li>Vai continuar falhando at que o sistema fique completo.</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="35" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="35" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="v%C3%A3o-ficar-falhando">Vo ficar falhando???</h1>
<h2 id="calma-%C3%A9-assim-mesmo-s%C3%A3o-testes-que-v%C3%A3o-demorar-a-ser-executados-precisamos-esperar-pelos-testes-integrados-e-unit%C3%A1rios">Calma.  assim mesmo. So testes que vo demorar a ser executados. Precisamos esperar pelos testes integrados e unitrios.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="36" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="36" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="tdd-aplicado-a-um-projeto-inteiro-sem-exce%C3%A7%C3%B5es">TDD aplicado a um projeto inteiro (sem excees)</h1>
<p>S seguirmos a <strong>Golden Rule</strong> do TDD</p>
<blockquote>
<p><strong>Escreva um teste que ir falhar!</strong></p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="37" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;assets/inner-outer-feedbackloop-tdd.png&quot;);background-size:60%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="37" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="37" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="content"><footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="37" style="" data-marpit-pagination-total="220" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="38" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="38" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="por-onde-exatamente-come%C3%A7ar">Por onde exatamente comear?</h1>
<h2 id="freeman--pryce-apontam-para-iniciarmos-pelos-testes-de-aceita%C3%A7%C3%A3o">Freeman &amp; Pryce apontam para iniciarmos pelos Testes de Aceitao.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="39" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="39" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="o-que-devemos-fazer-de-fato-em-primeiro-lugar-ao-escrever-uma-classe-ou-feature">O que devemos fazer de fato em primeiro lugar ao escrever uma classe ou feature?</h1>
<h2 id="escreva-o-caso-de-sucesso-mais-simples-poss%C3%ADvel-aqui-freeman--pryce-pedem-maior-cuidado">Escreva o Caso de Sucesso mais simples possvel: aqui Freeman &amp; Pryce pedem maior cuidado!</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="40" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="40" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="freeman--pryce">Freeman &amp; Pryce</h1>
<ul>
<li>Existe uma suposio popular para iniciarmos pelos Casos Degenerados</li>
</ul>
<blockquote>
<p>&quot;The simplest thing that could possibly work&quot; (Kent Beck)</p>
</blockquote>
<ul>
<li>
<p>Uncle Bob incentiva comearmos com Casos Degenerados (Clean Craftsmanship)</p>
</li>
<li>
<p>Entretanto, Freeman &amp; Pryce afirmam que isso entrega pouco valor ao sistema. No do feedback interessante sobre a validade das ideias de negcio. Os Clientes ficam mais preocupados. Afeta a moral da equipe.</p>
</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="41" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="41" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="como-freeman--pryce-priorizam-a-lista-de-casos-de-teste-exemplos">Como Freeman &amp; Pryce priorizam a Lista de Casos de Teste? Exemplos</h1>
<h2 id="1-liste-os-casos-de-sucesso">1. Liste os casos de sucesso</h2>
<ul>
<li>Cliente compra produto na loja, recebe o produto;</li>
<li>Um carto de atividade  criado, registrando a tarefa a ser feita.</li>
</ul>
<h2 id="2-liste-os-casos-de-falha-ou-degenerados">2. Liste os casos de falha ou degenerados</h2>
<ul>
<li>Cliente compra um produto fora de estoque. A operao deve ser impedida.</li>
<li>Carto de atividade com identificador inexistente  procurado no sistema. Deve dizer que no foi encontrado.</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="42" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="42" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="uma-poss%C3%ADvel-an%C3%A1lise">Uma possvel anlise</h1>
<h2 id="a-vis%C3%A3o-de-bob-%C3%A9-%C3%BAtil-para-exercitar-tdd-e-para-criar-bibliotecas-frameworks-e-etc-software-de-base">A viso de Bob  til para exercitar TDD e para criar bibliotecas, frameworks e etc (software de base).</h2>
<h2 id="a-vis%C3%A3o-de-freeman--pryce-%C3%A9-%C3%BAtil-para-entregar-valor-em-produtos-de-maior-retorno-comercial">A viso de Freeman &amp; Pryce  til para entregar valor em produtos de maior retorno comercial.</h2>
<blockquote>
<p>Entretanto, <strong>Anote os casos degenerados/falha num bloco de notas ou registre num Card de subtask</strong>. Caso esqueamos, isso vai virar a futura <strong>Issue</strong> que o cliente vai descobrir.</p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="43" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="43" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="n%C3%A3o-seria-mais-f%C3%A1cil-come%C3%A7ar-pelos-testes-unit%C3%A1rios">No seria mais fcil comear pelos testes unitrios?</h1>
<h2 id="%C3%A9-comum-acharmos-que-implementar-classes-de-dom%C3%ADnio-modelo-poderia-ser-mais-simples-entretanto-freeman--pryce-apontam-que-esta-abordagem-torna-propensa-a-cria%C3%A7%C3%A3o-de-c%C3%B3digo-desnecess%C3%A1rio-pg-43"> comum acharmos que implementar classes de Domnio (Modelo) poderia ser mais simples. Entretanto, Freeman &amp; Pryce apontam que esta abordagem torna propensa a criao de cdigo desnecessrio. (Pg. 43)</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="44" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;assets/image-2.png&quot;);background-size:60%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="44" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="44" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="content"><footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="44" style="" data-marpit-pagination-total="220" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="45" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="45" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="poder%C3%ADamos-iniciar-pela-modelagem-uml">Poderamos iniciar pela modelagem UML?</h1>
<ul>
<li> vlido como compreenso inicial;</li>
<li>Entretanto, na maioria das vezes introduz excesso de classes e abstraes;</li>
<li>Prejuzo a performance em larga escala.</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="46" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="46" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="ilustra%C3%A7%C3%A3o-do-problema-cria%C3%A7%C3%A3o-do-jogo-de-boliche-em-uml-clean-craftsmanship-pg-81">Ilustrao do problema: Criao do Jogo de Boliche em UML (Clean Craftsmanship, pg. 81)</h2>
<p><img src="assets/image-3.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="47" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="47" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="por-tdd-apenas-1-classe">Por TDD: apenas 1 classe</h2>
<p><img src="assets/image-5.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="48" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="48" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/image-4.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="49" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="49" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="hands-on-exercitando-programa%C3%A7%C3%A3o-web-com-tdd-de-ponta-a-ponta">Hands On: Exercitando Programao Web com TDD de ponta-a-ponta</h1>
<h2 id="1-vamos-praticar-a-cria%C3%A7%C3%A3o-de-teste-de-aceita%C3%A7%C3%A3o-com-cucumber-em-java-boilerplate-j%C3%A1-criado">1. Vamos praticar a criao de Teste de Aceitao com Cucumber em Java (boilerplate j criado)</h2>
<h2 id="2-escrever-teste-integrado-para-testar-controllers-e-jpa">2. Escrever Teste Integrado para testar Controllers e JPA</h2>
<h2 id="3-escrever-teste-unit%C3%A1rio-para-validar-comportamentos-de-classes">3. Escrever Teste Unitrio para validar comportamentos de classes</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="50" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="50" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="lista-de-casos-de-teste">Lista de Casos de Teste</h1>
<h2 id="sucesso">Sucesso</h2>
<p>(1) Como Cliente, Eu gostaria de consultar produto para comprar.</p>
<h2 id="degeneradofalha">Degenerado/Falha</h2>
<p>(2) Como Cliente, Eu gostaria de receber um aviso de que, ao procurar um produto por categoria indisponvel, Eu receba uma mensagem me notificando.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="51" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="51" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="montando-nosso-walking-skeleton">Montando nosso Walking Skeleton</h1>
<h2 id="vamos-iniciar-a-fase-da-chamada-itera%C3%A7%C3%A3o-zero">Vamos iniciar a fase da chamada <strong>ITERAO ZERO</strong>.</h2>
<p> uma etapa de infraestrutura. Segundo Freeman &amp; Pryce, no devemos contar isso nas iteraes comuns. Aps a concluso da iterao zero, o projeto se inicia de fato.</p>
<blockquote>
<p>Devemos procurar a arquitetura mais simples e ao mesmo tempo completa. Vai precisar de um Banco de Dados? J o coloque. Vai precisar de uma API REST? J a coloque.</p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="52" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="52" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="importante-evitarmos-o-bduf-big-design-up-front">Importante evitarmos o BDUF (Big Design Up Front)</h1>
<h2 id="devemos-evitar-de-construir-classes-algoritmos-e-tomar-decis%C3%B5es-de-arquitetura-cedo-demais-freeman-pg-35">Devemos evitar de construir classes, algoritmos e tomar decises de arquitetura cedo demais (Freeman, pg. 35)</h2>
<p>O Agile orienta descobrir os detalhes a medida que as iteraes avanam, o software  entregue e o feedback real  tomado.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="53" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="53" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="o-caso-1-vai-atuar-como-um-orientador-para-o-primeiro-teste-o-walking-skeleton-ser%C3%A1-constru%C3%ADdo-para-atend%C3%AA-lo">O Caso (1) vai atuar como um orientador para o primeiro teste. O Walking Skeleton ser construdo para atend-lo.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="54" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="54" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="arquitetura-m%C3%ADnima-plantuml">Arquitetura Mnima (PlantUML)</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-plantuml">skinparam actorStyle awesome

actor User
interface API
database &quot;H2 Database&quot; {
  [Product]
}

API - [Web Application]
[Web Application] - [Product]
User &lt;-&gt; API
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="55" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;assets/image-6.png&quot;);background-size:60%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="55" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="55" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="content"><footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="55" style="" data-marpit-pagination-total="220" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="56" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="56" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="infraestrutura-mais-b%C3%A1sica-poss%C3%ADvel">Infraestrutura mais bsica possvel</h1>
<ul>
<li>JDK 21</li>
<li>Spring Boot 3</li>
<li>Banco de Dados H2 (SQL, em memria RAM)</li>
<li>Framework de Teste Integrado e Unitrio: JUnit 5</li>
<li>Biblioteca de Asseres: AssertJ</li>
<li>Framework de Teste de Aceitao: Cucumber</li>
</ul>
<blockquote>
<p>Chamamos Teste de Aceitao como UAT - User Acceptance Test tambm.</p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="57" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="57" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="checklist">Checklist</h1>
<ul>
<li>Faa clone do projeto</li>
<li>Aprender a executar 3 tipos de teste: e2e, it e ut</li>
<li>Visualizar um relatrio de Integrao Contnua (CI: GitHub Actions)</li>
<li>(1) Como Cliente, Eu gostaria de consultar um produto para comprar (Walking Skeleton)</li>
<li>(2) Como Cliente, Eu gostaria de receber um aviso de que, ao procurar um produto por categoria indisponvel, Eu receba uma mensagem me notificando.</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="58" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="58" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="clonando">Clonando</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-sh">git <span class="hljs-built_in">clone</span> https://github.com/xpian94/forkstore.git
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="59" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="59" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="executando-todos-os-testes">Executando todos os testes</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-sh">mvn clean verify -P all-tests
</code></pre>
<h2 id="executando-todos-os-testes-unit%C3%A1rios-ut-e-integrados-it-somente">Executando todos os testes unitrios (ut) e integrados (it) somente</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-sh">mvn clean verify <span class="hljs-comment"># ignora e2e</span>
</code></pre>
<h2 id="executando-todos-os-testes-integrados-it-somente">Executando todos os testes integrados (it) somente</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-sh">mvn clean verify -DskipTests <span class="hljs-comment"># ignora e2e e ut, sobrando it</span>
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="60" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="60" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="executando-todos-os-testes-unit%C3%A1rios-ut-somente">Executando todos os testes unitrios (ut) somente</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-sh">mvn clean verify -DskipITs <span class="hljs-comment"># ignora e2e e it, sobrando ut</span>
</code></pre>
<h2 id="executando-todos-os-testes-de-aceita%C3%A7%C3%A3o-e2e-somente">Executando todos os testes de aceitao (e2e) somente</h2>
<blockquote>
<p>Aconselho a evitar este tipo de comando. Um e2e deve exercitar<br />
todos os testes tambm. Algumas IDEs oferecem uma maneira de executar somente os testes integrados por meio de plugins, devendo ser usado com muita cautela.</p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="61" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="61" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="checklist-1">Checklist</h1>
<ul>
<li><s>Faa clone do projeto</s></li>
<li><s>Aprender a executar 3 tipos de teste: e2e, it e ut</s></li>
<li><strong>Visualizar um relatrio de Integrao Contnua (CI: GitHub Actions)</strong></li>
<li>(1) Como Cliente, Eu gostaria de consultar produto para comprar. (Walking Skeleton)</li>
<li>(2) Como Cliente, Eu gostaria de receber um aviso de que, ao procurar um produto por categoria indisponvel, Eu receba uma mensagem me notificando.</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="62" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="62" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="visualizar-um-relat%C3%B3rio-de-integra%C3%A7%C3%A3o-cont%C3%ADnua-ci-github-actions">Visualizar um relatrio de Integrao Contnua (CI: GitHub Actions)</h1>
<h2 id="mais-%C3%A0-frente-ser%C3%A1-explicado-em-detalhes-como-funciona-a-pr%C3%A1tica-de-integra%C3%A7%C3%A3o-cont%C3%ADnua">Mais  frente ser explicado em detalhes como funciona a prtica de Integrao Contnua.</h2>
<h2 id="onde-ver-o-relat%C3%B3rio-clique-em-forkstore---github-actions">Onde ver o relatrio? Clique em <a href="https://github.com/xpian94/forkstore/actions">Forkstore - GitHub Actions</a>.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="63" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="63" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="a-partir-do-reposit%C3%B3rio-de-exemplo-vamos-fazer-um-commit-vazio-e-dar-um-push-para-disparar-o-servidor-de-ci-vamos-v%C3%AA-lo-em-a%C3%A7%C3%A3o">A partir do repositrio de exemplo, vamos fazer um commit vazio e dar um push para disparar o servidor de CI. Vamos v-lo em ao.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="64" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="64" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-shell">git commit --allow-empty -m &quot;#trigger ci&quot; # pode usar qualquer string
git push
</code></pre>
<h2 id="aten%C3%A7%C3%A3o-ao-visitarmos-o-relat%C3%B3rio-gerado-vamos-ver-algo-assim">Ateno: ao visitarmos o relatrio gerado, vamos ver algo assim</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="65" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="65" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/ghci-9.png" alt="center" /></p>
<h2 id="est%C3%A1-certo-mesmo-n%C3%A3o-%C3%A9-muito-f%C3%A1cil-sermos-enganados-por-automa%C3%A7%C3%B5es-de-verifica%C3%A7%C3%A3o-de-cobertura-e-ferramentas-de-teste">Est certo mesmo?! No!  muito fcil sermos enganados por automaes de verificao de cobertura e ferramentas de teste.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="66" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="66" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="n%C3%A3o-temos-nada-e-a-ferramenta-jacoco-badge-generator-disse-que-est%C3%A1-100-coberto-conclus%C3%A3o-desconfie-um-pouco-de-ferramentas">No temos nada e a ferramenta jacoco-badge-generator disse que est 100% coberto! Concluso: desconfie um pouco de ferramentas!</h2>
<p><img src="assets/jacoco-1.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="67" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="67" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="checklist-2">Checklist</h1>
<ul>
<li><s>Faa clone do projeto</s></li>
<li><s>Aprender a executar 3 tipos de teste: e2e, it e ut</s></li>
<li><s>Visualizar um relatrio de Integrao Contnua (CI: GitHub Actions)</s></li>
<li><strong>(1) Como Cliente, Eu gostaria de consultar produto para comprar.</strong> (Walking Skeleton)</li>
<li>(2) Como Cliente, Eu gostaria de receber um aviso de que, ao procurar um produto por categoria indisponvel, Eu receba uma mensagem me notificando.</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="68" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="68" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="1-como-cliente-eu-gostaria-de-consultar-produto-para-comprar">(1) Como Cliente Eu gostaria de consultar produto para comprar.</h1>
<p>Abra o arquivo <code>ClienteConsultaProdutoAComprar.feature</code> (pasta <code>test/resources/org/forkstore</code>)</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-gherkin">Funcionalidade: Como Cliente Eu gostaria de consultar produto para comprar
  Como um Cliente a procura de um produto
  Eu gostaria de saber se o produto esta a venda
  De modo que Eu possa ser encorajado a compra-lo.

  Criterios de Aceite:
    1. Procura por um produto por categoria
    2. Recebe um aviso ao procurar categoria indisponivel
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="69" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="69" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="por-enquanto-vamos-ignorar">Por enquanto vamos ignorar</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-gherkin">Fundo:
    Dados produtos cadastrados na loja
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="70" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="70" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="delinea%C3%A7%C3%A3o-do-cen%C3%A1rio">Delineao do Cenrio</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-gherkin">Delineacao do Cenario: Procura por um produto por categoria
    Quando o cliente procurar por <span class="hljs-string">&quot;&lt;categoria&gt;&quot;</span>
    Entao uma lista de produtos deve aparecer com produtos pertencentes a <span class="hljs-string">&quot;&lt;categoria&gt;&quot;</span>
    E cada produto mostrado aparecera com <span class="hljs-string">&quot;&lt;nome&gt;&quot;</span>, <span class="hljs-string">&quot;&lt;quantidade&gt;&quot;</span> e <span class="hljs-string">&quot;&lt;disponivelAVenda&gt;&quot;</span>

    Exemplos:
    |<span class="hljs-string"> categoria  </span>|<span class="hljs-string"> nome                   </span>|<span class="hljs-string"> quantidade </span>|<span class="hljs-string"> disponivelAVenda </span>|
    |<span class="hljs-string"> Utensilios </span>|<span class="hljs-string"> Kit 12 Facas           </span>|<span class="hljs-string"> 3          </span>|<span class="hljs-string"> Sim              </span>|
    |<span class="hljs-string"> Utensilios </span>|<span class="hljs-string"> Colher de Silicone     </span>|<span class="hljs-string"> 12         </span>|<span class="hljs-string"> Sim              </span>|
    |<span class="hljs-string"> Utensilios </span>|<span class="hljs-string"> Ralador 4 faces Inox   </span>|<span class="hljs-string"> 0          </span>|<span class="hljs-string"> Nao              </span>|
</code></pre>
<blockquote>
<p>Evite colocar acentuaes em delineao de cenrio e fundo.</p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="71" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="71" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="1-quando-o-cliente-procura-por-categoria">1. Quando o cliente procura por categoria</h1>
<h2 id="deve-receber-uma-lista-de-produtos-correspondente-%C3%A0-categoria">Deve receber uma lista de produtos correspondente  categoria</h2>
<ul>
<li>Visite a classe <code>ProcuraProdutoPorCategoria.java</code> no pacote <code>org.forkstore.e2e</code></li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Quando(&quot;o cliente procurar por {string}&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">oClienteProcurarPor</span><span class="hljs-params">(String categoria)</span> <span class="hljs-keyword">throws</span> JsonProcessingException {
    <span class="hljs-type">var</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;http://localhost:%d/product?category=%s&quot;</span>.formatted(port, categoria);

    response = restTemplate.getForObject(url, String.class);
    responseAsJsonNode = objectMapper.readTree(response);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="72" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="72" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProcuraProdutoPorCategoria</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> TestRestTemplate restTemplate;

    <span class="hljs-meta">@LocalServerPort</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> port;

    <span class="hljs-keyword">private</span> String response;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();

    <span class="hljs-keyword">private</span> JsonNode responseAsJsonNode;

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="73" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="73" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="2-ent%C3%A3o-uma-lista-de-produtos-deve-aparecer-com-os-produtos-pertencentes-a-uma-categoria">2. Ento uma lista de produtos deve aparecer com os produtos pertencentes a uma categoria</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Entao(&quot;uma lista de produtos deve aparecer com produtos pertencentes a {string}&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">umaListaDeProdutosDeveAparecerComProdutosPertencentesA</span><span class="hljs-params">(String categoria)</span> {
    <span class="hljs-type">var</span> <span class="hljs-variable">fieldValues</span> <span class="hljs-operator">=</span> responseAsJsonNode.findValues(<span class="hljs-string">&quot;category&quot;</span>);
    <span class="hljs-type">var</span> <span class="hljs-variable">fieldValuesAsList</span> <span class="hljs-operator">=</span> fieldValues.stream().map(JsonNode::asText).toList();

    assertThat(fieldValues.size()).isEqualTo(<span class="hljs-number">3</span>);
    assertThat(fieldValuesAsList).contains(categoria);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="74" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="74" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="verificar-se-o-teste-acima-funciona-depois-devemos-retirar-a-implementa%C3%A7%C3%A3o-abaixo">Verificar se o teste acima funciona. Depois devemos retirar a implementao abaixo.</h2>
<h3 id="crie-uma-classe-chamada-productcontrollerjava-em-mainjavaorgforkstore-%C3%A9-o-pacote-orgforkstore">Crie uma classe chamada <code>ProductController.java</code> em <code>main/java/org/forkstore</code> ( o pacote <code>org.forkstore</code>)</h3>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="75" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="75" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">import</span> org.springframework.http.MediaType;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;

<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductController</span> {
    <span class="hljs-meta">@GetMapping(value = &quot;/product&quot;, produces = MediaType.APPLICATION_JSON_VALUE)</span>
    String <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(name = &quot;category&quot;)</span> String category)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;&quot;
            [
                {
                    &quot;category&quot;: &quot;Utensilios&quot;,
                    &quot;name&quot;: &quot;Kit 12 Facas&quot;
                },
                {
                    &quot;category&quot;: &quot;Utensilios&quot;,
                    &quot;name&quot;: &quot;Colher de Silicone&quot;
                },
                {
                    &quot;category&quot;: &quot;Utensilios&quot;,
                    &quot;name&quot;: &quot;Ralador 4 faces Inox&quot;
                }
            ]
            &quot;&quot;&quot;</span>;
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="76" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="76" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="3-refatorando-o-teste">3. Refatorando o teste</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Entao(&quot;uma lista de produtos deve aparecer com produtos pertencentes a {string}&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">umaListaDeProdutosDeveAparecerComProdutosPertencentesA</span><span class="hljs-params">(String categoria)</span> {
    findByFieldNameAndValueAndVerify(<span class="hljs-string">&quot;category&quot;</span>, categoria);
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">findByFieldNameAndValueAndVerify</span><span class="hljs-params">(String fieldName, String fieldValue)</span> {
    <span class="hljs-type">var</span> <span class="hljs-variable">fieldValues</span> <span class="hljs-operator">=</span> responseAsJsonNode.findValues(fieldName);
    <span class="hljs-type">var</span> <span class="hljs-variable">fieldValuesAsList</span> <span class="hljs-operator">=</span> fieldValues.stream().map(JsonNode::asText).toList();

    assertThat(fieldValues.size()).isEqualTo(<span class="hljs-number">3</span>);
    assertThat(fieldValuesAsList).contains(fieldValue);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="77" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="77" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="4-implementando-teste-e-cada-produto-mostrado-aparecer%C3%A1-com-nome-quantidade-e-disponivelavenda">4. Implementando teste &quot;E cada produto mostrado aparecer com <code>&lt;nome&gt;</code>, <code>&lt;quantidade&gt;</code> e <code>&lt;disponivelAVenda&gt;</code></h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@E(&quot;cada produto mostrado aparecera com {string}, {string} e {string}&quot;)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cadaProdutoMostradoApareceraComE</span><span class="hljs-params">(String nome, String quantidade, String disponivelAVenda)</span> {
    findByFieldNameAndValueAndVerify(<span class="hljs-string">&quot;name&quot;</span>, nome);
    findByFieldNameAndValueAndVerify(<span class="hljs-string">&quot;quantity&quot;</span>, quantidade);
    findByFieldNameAndValueAndVerify(<span class="hljs-string">&quot;available&quot;</span>, String.valueOf(disponivelAVenda.equals(<span class="hljs-string">&quot;Sim&quot;</span>)));
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="78" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="78" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@GetMapping(value = &quot;/product&quot;, produces = MediaType.APPLICATION_JSON_VALUE)</span>
String <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(name = &quot;category&quot;)</span> String category)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;&quot;
        [
            {
                &quot;category&quot;: &quot;Utensilios&quot;,
                &quot;name&quot;: &quot;Kit 12 Facas&quot;,
                &quot;quantity&quot;: 3,
                &quot;available&quot;: true
            },
            {
                &quot;category&quot;: &quot;Utensilios&quot;,
                &quot;name&quot;: &quot;Colher de Silicone&quot;,
                &quot;quantity&quot;: 12,
                &quot;available&quot;: true
            },
            {
                &quot;category&quot;: &quot;Utensilios&quot;,
                &quot;name&quot;: &quot;Ralador 4 faces Inox&quot;,
                &quot;quantity&quot;: 0,
                &quot;available&quot;: false
            }
        ]
        &quot;&quot;&quot;</span>;
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="79" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="79" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="exercitando-o-banco-de-dados">Exercitando o Banco de Dados</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="80" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="80" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="5-simula%C3%A7%C3%A3o-do-cadastro-de-3-produtos">5. Simulao do cadastro de 3 produtos</h1>
<p>A classe <code>PreparacaoDaHistoria</code> fica em <code>org.forkstore.e2e</code></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreparacaoDaHistoria</span> {
    <span class="hljs-meta">@Dados(&quot;produtos cadastrados na loja&quot;)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">produtosCadastradosNaLoja</span><span class="hljs-params">()</span> {
        <span class="hljs-type">var</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
        <span class="hljs-type">var</span> <span class="hljs-variable">second</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
        <span class="hljs-type">var</span> <span class="hljs-variable">third</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
    }
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">package</span> org.forkstore;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> { }
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="81" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="81" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreparacaoDaHistoria</span> {
    <span class="hljs-meta">@Dados(&quot;produtos cadastrados na loja&quot;)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">produtosCadastradosNaLoja</span><span class="hljs-params">()</span> {
        <span class="hljs-type">var</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
        <span class="hljs-type">var</span> <span class="hljs-variable">second</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
        <span class="hljs-type">var</span> <span class="hljs-variable">third</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();

        first.setCategory(<span class="hljs-string">&quot;Utensilios&quot;</span>);
        first.setName(<span class="hljs-string">&quot;Kit 12 Facas&quot;</span>);
        first.setQuantity(<span class="hljs-number">3</span>);
        first.setAvailable(<span class="hljs-literal">true</span>);
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="82" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="82" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java">second.setCategory(<span class="hljs-string">&quot;Utensilios&quot;</span>);
second.setName(<span class="hljs-string">&quot;Colher de Silicone&quot;</span>);
second.setQuantity(<span class="hljs-number">12</span>);
second.setAvailable(<span class="hljs-literal">true</span>);

third.setCategory(<span class="hljs-string">&quot;Utensilios&quot;</span>);
third.setName(<span class="hljs-string">&quot;Ralador 4 faces Inox&quot;</span>);
third.setQuantity(<span class="hljs-number">0</span>);
third.setAvailable(<span class="hljs-literal">false</span>);
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="83" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="83" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreparacaoDaHistoria</span> {
    <span class="hljs-meta">@Dados(&quot;produtos cadastrados na loja&quot;)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">produtosCadastradosNaLoja</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ...</span>
        repo.saveAll(List.of(first, second, third));
    }
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreparacaoDaHistoria</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductRepository repo; 
    
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProductRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">CrudRepository</span>&lt;Product, Long&gt; {}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="84" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="84" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="product-deve-ser-um-entity">Product deve ser um Entity</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    Long id;

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p><strong>Teremos muitos erros ainda. Vamos corrigindo aos poucos.</strong></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="85" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="85" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.AUTO)</span>
    Long id;

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="86" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="86" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="uma-classe-como-esta-satisfaz-a-cria%C3%A7%C3%A3o-da-massa-de-dados-de-testes">Uma classe como esta satisfaz a criao da massa de dados de testes</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.AUTO)</span>
    Long id;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setCategory</span><span class="hljs-params">(String category)</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setQuantity</span><span class="hljs-params">(<span class="hljs-type">int</span> quantity)</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAvailable</span><span class="hljs-params">(<span class="hljs-type">boolean</span> available)</span> {}
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="87" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="87" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="soa-estranho-n%C3%A3o-temos-sequer-os-campos-para-o-bd">Soa estranho... No temos sequer os campos para o BD</h1>
<h2 id="com-setters-vazios-n%C3%A3o-se-faz-nada-mas-tudo-bem-vamos-prosseguindo">Com setters vazios, no se faz nada! Mas tudo bem, vamos prosseguindo.</h2>
<h2 id="%C3%A0-frente-algum-teste-vai-pedir-uma-implementa%C3%A7%C3%A3o-mais-esperta"> frente, algum teste vai pedir uma implementao mais esperta.</h2>
<h2 id="os-testes-devem-passar">Os testes devem passar.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="88" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="88" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="6-refatorando-o-controller">6. Refatorando o controller</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductController</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ProductRepository repo;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ProductController</span><span class="hljs-params">(ProductRepository repo)</span> {
        <span class="hljs-built_in">this</span>.repo = repo;
    }

    <span class="hljs-meta">@GetMapping(value = &quot;/product&quot;, produces = MediaType.APPLICATION_JSON_VALUE)</span>
    List&lt;Product&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(name = &quot;category&quot;)</span> String category)</span> {
        <span class="hljs-keyword">return</span> (List&lt;Product&gt;) repo.findAll();
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="89" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="89" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="resolvendo-alguns-problemas-gerados-pela-refatora%C3%A7%C3%A3o">Resolvendo alguns problemas gerados pela refatorao</h1>
<p>A refatorao aqui apontou que nossa fase de criao de dados de teste est falha.<br />
No tem problema, vamos consert-la.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="90" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="90" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="classe-product">Classe <code>Product</code></h2>
<blockquote>
<p>Existe um recurso interessante de algumas IDEs chamado <strong>Multi-selection</strong>.<br />
Podemos reaproveitar setters e transformar em campos. Deve ficar assim:</p>
</blockquote>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.AUTO)</span>
    Long id;

    String category;

    String name;

    Integer quantity;

    Boolean available;
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="91" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="91" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="resolve-ainda-n%C3%A3o-temos-ainda-a-falta-de-setters-solu%C3%A7%C3%A3o-r%C3%A1pida-lombok-setters">Resolve? Ainda no. Temos ainda a falta de setters. Soluo rpida: Lombok Setters.</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-comment">// ...</span>
<span class="hljs-keyword">import</span> lombok.Setter;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Setter</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>Com isso, teremos setters sem precisar de utilizar recursos de IDE. O <a href="https://projectlombok.org/">Lombok</a> permite<br />
gerar cdigo no momento que o compilador gera a AST (Abstract Syntax Tree).</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="92" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="92" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="mesmo-assim-teremos-falhas">Mesmo assim teremos falhas</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">org.opentest4j.AssertionFailedError: 
expected: 3
 but was: 0
Expected :3
Actual   :0
</code></pre>
<h2 id="solu%C3%A7%C3%A3o-adicione-getters">Soluo? Adicione getters.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="93" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="93" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-comment">// ...</span>

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Setter</span>
<span class="hljs-meta">@Getter</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 id="ainda-teremos-mais-erros-o-primeiro-teste-funciona-mas-os-outros-2-n%C3%A3o">Ainda teremos mais erros. O primeiro teste funciona, mas os outros 2 no.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="94" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="94" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="num-teste-teremos-isso">Num teste teremos isso</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">org.opentest4j.AssertionFailedError: 
expected: 3
 but was: 6
Expected :3
Actual   :6
</code></pre>
<h2 id="noutro-algo-semelhante-o-que-pode-ser">Noutro, algo semelhante. O que pode ser?</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">org.opentest4j.AssertionFailedError: 
expected: 3
 but was: 9
Expected :3
Actual   :9
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="95" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="95" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="importante-etapas-como-fundo-background">Importante: Etapas como <code>Fundo</code> (<code>Background</code>)</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code>Fundo:
    Dados produtos cadastrados na loja
</code></pre>
<p>Isso faz com que cada Exemplo de um cenrio delineado tenha a execuo do mtodo<br />
<code>PreparacaoDaHistoria.produtosCadastradosNaLoja()</code>. Isso vai poluindo a base de dados.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="96" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="96" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="solu%C3%A7%C3%A3o-vamos-limpar-a-base-de-dados-com-um-recurso-chamado-hooks">Soluo? Vamos limpar a base de dados com um recurso chamado Hooks</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hooks</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductRepository repo;

    <span class="hljs-meta">@After</span> <span class="hljs-comment">// @Before aqui tem o mesmo efeito</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cleanUp</span><span class="hljs-params">()</span> {
        repo.deleteAll();
    }
}
</code></pre>
<blockquote>
<p>After: quer dizer que o mtodo <code>cleanUp</code> vai ser chamado depois do exemplo de teste de um cenrio delineado tiver sido executado.</p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="97" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="97" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="agora-todos-os-testes-passam-vamos-ver-como-vai-ser-o-trabalho-com-um-ci">Agora todos os testes passam. Vamos ver como vai ser o trabalho com um CI.</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="98" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="98" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="7-continuous-integration-ci-com-github-actions">7. Continuous Integration (CI) com GitHub Actions</h1>
<ul>
<li>O teste de aceitao inicial est passando. Vamos verificar se o cdigo submetido ao GitHub consegue passar atravs de um servidor de integrao contnua.</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="99" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="99" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="como-funciona-o-github-actions">Como funciona o GitHub Actions?</h1>
<p><img src="assets/forkstore-1.png" alt="alt text" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="100" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="100" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="event--evento-que-ocorre-num-reposit%C3%B3rio">Event = Evento que ocorre num repositrio.</h2>
<h3 id="exemplo-git-push-pull-request">Exemplo: <code>git push</code>, <code>pull request</code>, ...</h3>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="101" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="101" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="observa-se-que-no-arquivo-githubgithub_actionyml-temos">Observa-se que no arquivo <code>.github/.github_action.yml</code> temos</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-attr">name:</span> <span class="hljs-string">CI</span>
<span class="hljs-attr">on:</span>
  <span class="hljs-attr">pull_request:</span>
    <span class="hljs-attr">branches:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;feature/*&#x27;</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;release/*&#x27;</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;main&#x27;</span>
</code></pre>
<ul>
<li>Quer dizer, toda vez que fizermos um Pull Request com as branches de destino sendo <code>feature/*</code>, <code>/release/*</code> e <code>main</code>, algumas etapas sero executadas sequencialmente.</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="102" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="102" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="neste-workflow-de-exemplo-temos-1-job-que-vai-rodar-uma-sequ%C3%AAncia-de-comandos-de-terminal-num-ubuntu-linux">Neste workflow de exemplo, temos 1 job que vai rodar uma sequncia de comandos de terminal num Ubuntu Linux.</h1>
<h2 id="workflow--sequ%C3%AAncia-de-jobs-tarefas-automatizadas">Workflow = Sequncia de Jobs (tarefas automatizadas)</h2>
<h2 id="job--sequ%C3%AAncia-de-tasks-conhecidas-como-steps">Job = Sequncia de Tasks (conhecidas como Steps)</h2>
<h2 id="step--task--cole%C3%A7%C3%A3o-de-comandos-de-shell-setup-task-ou-action">Step = Task = Coleo de comandos de shell, setup task ou action</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="103" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="103" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="runner--%C3%A9-um-servidor-que-roda-os-workflows-definidos-na-pasta-githubworkflows-definimos-com-a-express%C3%A3o-runs-on-relativa-ao-job">Runner =  um servidor que roda os workflows definidos na pasta <code>.github/workflows</code>. Definimos com a expresso <code>runs-on</code> relativa ao job.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="104" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="104" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">test:</span> <span class="hljs-comment"># test = job id</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span> <span class="hljs-comment"># vai rodar um Ubuntu Linux padro</span>
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="105" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="105" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/ghci-0.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="106" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="106" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="primeira-coisa-a-se-fazer-pedir-para-o-ci-dar-um-git-checkout-na-branch">Primeira coisa a se fazer: pedir para o CI dar um <code>git checkout</code> na branch</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">test:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
</code></pre>
<p><strong><code>uses</code>: vai executar uma Action como parte da step</strong>. Logo, o checkout ser feito logo no incio da step. Se estiver fazendo um commit e push na branch <code>ABC</code>,  nesta branch que ser feito o checkout.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="107" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="107" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/ghci-1.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="108" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="108" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="depois-pedir-para-o-ci-configurar-o-ambiente-com-as-ferramentas-para-rodar-nosso-projeto-em-java-21-com-maven">Depois, pedir para o CI configurar o ambiente com as ferramentas para rodar nosso projeto em Java 21 com Maven</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">test:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-comment"># ...</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-java@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">distribution:</span> <span class="hljs-string">&#x27;temurin&#x27;</span>
          <span class="hljs-attr">java-version:</span> <span class="hljs-string">&#x27;21&#x27;</span>
          <span class="hljs-attr">cache:</span> <span class="hljs-string">&#x27;maven&#x27;</span>
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="109" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="109" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/ghci-2.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="110" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="110" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="ao-todo-temos-6-steps-s%C3%A3o">Ao todo temos 6 steps. So</h2>
<h3 id="step-1-ci-info">Step 1: CI Info</h3>
<ul>
<li>Para mostrar informaes teis como a branch em que nos encontramos.</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">CI</span> <span class="hljs-string">Info</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">echo</span> <span class="hljs-string">&quot;${GITHUB_HEAD_REF:-${GITHUB_REF#refs/heads/}}&quot;</span>
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="111" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="111" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/ghci-3.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="112" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="112" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h3 id="step-2-build-and-all-tests">Step 2: Build and All Tests</h3>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">All</span> <span class="hljs-string">Tests</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">mvn</span> <span class="hljs-string">clean</span> <span class="hljs-string">verify</span> <span class="hljs-string">-P</span> <span class="hljs-string">all-tests</span>
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="113" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="113" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/ghci-4.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="114" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="114" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/ghci-5.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="115" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="115" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h3 id="step-3-build-tests-unit-and-integration">Step 3: Build Tests (Unit and Integration)</h3>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Tests</span> <span class="hljs-string">(Unit</span> <span class="hljs-string">and</span> <span class="hljs-string">Integration)</span>
  <span class="hljs-attr">if:</span> <span class="hljs-string">startsWith(github.head_ref,</span> <span class="hljs-string">&#x27;feature&#x27;</span><span class="hljs-string">)</span>
  <span class="hljs-attr">run:</span>
      <span class="hljs-string">mvn</span> <span class="hljs-string">clean</span> <span class="hljs-string">verify</span> <span class="hljs-string">-P</span> <span class="hljs-string">ut-it</span>
</code></pre>
<ul>
<li>Se tiver numa branch de <code>feature</code>, chame somente os testes unitrios e integrados</li>
</ul>
<h3 id="step-4-generate-jacoco-badge">Step 4: Generate JaCoCo Badge</h3>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Generate</span> <span class="hljs-string">JaCoCo</span> <span class="hljs-string">Badge</span>
  <span class="hljs-attr">id:</span> <span class="hljs-string">jacoco</span>
  <span class="hljs-attr">uses:</span> <span class="hljs-string">cicirello/jacoco-badge-generator@v2</span>
  <span class="hljs-attr">with:</span>
    <span class="hljs-attr">generate-branches-badge:</span> <span class="hljs-literal">true</span>
</code></pre>
<ul>
<li>Gera um arquivo <code>.svg</code> como</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="116" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="116" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/ghci-7.png" alt="center" /></p>
<h2 id="para-incluir-este-badge-acima-no-readme-precisa-se-incluir-outra-step-para-commit-devido-%C3%A0-controv%C3%A9rsia-de-bots-preferi-omitir">Para incluir este badge acima no README, precisa-se incluir outra Step para commit (devido  controvrsia de bots, preferi omitir).</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="117" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="117" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h3 id="step-5-log-coverage-percentage">Step 5: Log coverage percentage</h3>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Log</span> <span class="hljs-string">coverage</span> <span class="hljs-string">percentage</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">|
    echo &quot;coverage = ${{ steps.jacoco.outputs.coverage }}&quot;
    echo &quot;branch coverage = ${{ steps.jacoco.outputs.branches }}&quot;
</span></code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="118" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="118" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h3 id="step-6-upload-jacoco-coverage-report">Step 6: Upload JaCoCo coverage report</h3>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Upload</span> <span class="hljs-string">JaCoCo</span> <span class="hljs-string">coverage</span> <span class="hljs-string">report</span>
  <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/upload-artifact@v2</span>
  <span class="hljs-attr">with:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">jacoco-report</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">target/site/jacoco/</span>
</code></pre>
<p><img src="assets/ghci-8.png" alt="alt text" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="119" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="119" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="links-%C3%BAteis-do-github-actions">Links teis do GitHub Actions</h1>
<p><a href="https://docs.github.com/en/actions/about-github-actions/understanding-github-actions">Entendendo como funciona o GitHub Actions</a></p>
<p><a href="https://docs.github.com/en/actions/writing-workflows/choosing-what-your-workflow-does/using-jobs-in-a-workflow">Jobs e Workflow</a></p>
<p><a href="https://github.com/actions/runner-images">Lista de Runners disponveis</a></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="120" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="120" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="vemos-no-ci-que-todos-os-testes-passam-e-que-o-primeiro-teste-de-fato-passa">Vemos no CI que todos os testes passam e que o primeiro teste de fato passa.</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="121" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="121" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="temos-que-cumprir-a-regra-do-freeman--pryce-um-teste-de-aceita%C3%A7%C3%A3o-deve-falhar">Temos que cumprir a regra do Freeman &amp; Pryce: um Teste de Aceitao deve falhar.</h1>
<h2 id="vamos-apagar-o-c%C3%B3digo-de-produ%C3%A7%C3%A3o-e-subir-para-ver-o-ci-falhando-nas-asser%C3%A7%C3%B5es">Vamos apagar o cdigo de produo e subir para ver o CI falhando nas asseres.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="122" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="122" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="ao-subirmos-precisamos-ver-isso-no-ci">Ao subirmos precisamos ver isso no CI</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">Error:  Tests run: 5, Failures: 3, Errors: 0, Skipped: 0
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="123" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="123" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="revisando-o-checklist">Revisando o Checklist</h1>
<ul>
<li><s>Faa clone do projeto</s></li>
<li><s>Aprender a executar 3 tipos de teste: e2e, it e ut</s></li>
<li><s>Visualizar um relatrio de Integrao Contnua (CI: GitHub Actions)</s></li>
<li><strong>(1) Como Cliente, Eu gostaria de consultar produto para comprar.</strong>
<ul>
<li><s>Walking Skeleton exercitou API e Banco de Dados</s></li>
</ul>
</li>
<li>(2) Como Cliente, Eu gostaria de receber um aviso de que, ao procurar um produto por categoria indisponvel, Eu receba uma mensagem me notificando.</li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="124" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="124" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="relembrando">Relembrando</h1>
<p><img src="assets/inner-outer-feedbackloop-tdd.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="125" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="125" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="8-vamos-precisar-criar-um-teste-unit%C3%A1rio-o-que-podemos-testar">8. Vamos precisar criar um teste unitrio. O que podemos testar?</h1>
<h2 id="devemos-nos-perguntar-nossos-objetos-fazem-a-coisa-que-deveria-ser-feita-%C3%A9-f%C3%A1cil-de-trabalhar-com-eles-1">Devemos nos perguntar: nossos objetos fazem a coisa que deveria ser feita?  fcil de trabalhar com eles?</h2>
<p>Quais objetos podemos pensar? Do DDD (Domain-Driven Design), temos:</p>
<ul>
<li>Entidades (camada de Domnio)</li>
<li>Caso de Uso (camada de Domnio)</li>
<li>Controllers (camada de Infraestrutura)</li>
<li>Repositories (camada de Persistncia)</li>
</ul>
<blockquote>
<p>Os Casos de Uso oferecem maior facilidade. Podemos isolar os componentes externos mais facilmente atravs de Test Double (Dubl de Teste).</p>
</blockquote>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="126" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="126" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="implementando-um-caso-de-uso-atrav%C3%A9s-de-um-service">Implementando um Caso de Uso atravs de um Service</h1>
<h2 id="podemos-utilizar-uma-classe-de-service-do-spring-para-implementar-as-regras-de-neg%C3%B3cio-de-um-caso-de-uso">Podemos utilizar uma classe de Service do Spring para implementar as regras de negcio de um Caso de Uso.</h2>
<p>Alguns preferem ainda criar uma nova classe de Caso de Uso. Opto pela simplicidade para evitar proliferao de classes.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="127" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="127" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="claro-vamos-come%C3%A7ar-pelo-teste-de-uma-classe-que-ainda-n%C3%A3o-existe">Claro, vamos comear pelo teste de uma classe que ainda no existe</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="128" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="128" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="um-c%C3%B3digo-m%C3%ADnimo">Um cdigo mnimo</h2>
<p> o corao da nossa inteno. Queremos chamar o caso de uso da procura de um produto por categoria.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
      <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(<span class="hljs-string">&quot;category&quot;</span>);
    }
}
</code></pre>
<p>Vamos resolvendo as falhas...</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="129" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="129" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-keyword">private</span> ProductService service;
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    <span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(String category)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<p>Teremos a falha</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">java.lang.NullPointerException: Cannot invoke ...because &quot;this.service&quot; is null
</code></pre>
<h2 id="solu%C3%A7%C3%A3o-instancia%C3%A7%C3%A3o">Soluo: instanciao</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="130" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="130" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">ProductService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductService</span>();

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
        <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(<span class="hljs-string">&quot;category&quot;</span>);
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="131" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="131" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="vamos-colocar-a-primeira-asser%C3%A7%C3%A3o">Vamos colocar a primeira assero</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">ProductService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductService</span>();

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
        <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(<span class="hljs-string">&quot;category&quot;</span>);

        assertThat(found.size()).isEqualTo(<span class="hljs-number">1</span>);
    }
}
</code></pre>
<p>Falha. Resolvendo...</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="132" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="132" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    <span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(String category)</span> {
        <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());
    }
}
</code></pre>
<p>Sucesso! BIZARRO?! Calma...</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="133" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="133" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="vamos-verificar-se-ao-buscar-por-categoria-um-repository-%C3%A9-acionado-para-buscar-os-dados">Vamos verificar se, ao buscar por categoria, um repository  acionado para buscar os dados.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="134" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="134" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
    <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(<span class="hljs-string">&quot;category&quot;</span>);

    verify(repository).findByCategory(<span class="hljs-string">&quot;category&quot;</span>);

    assertThat(found.size()).isEqualTo(<span class="hljs-number">1</span>);
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">ProductService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductService</span>();

    <span class="hljs-keyword">private</span> ProductRepository repository;

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRepository</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> {}
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="135" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="135" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">org.mockito.exceptions.misusing.NullInsteadOfMockException: 
Argument passed to verify() should be a mock but is null!
Examples of correct verifications:
    verify(mock).someMethod();
    verify(mock, times(10)).someMethod();
    verify(mock, atLeastOnce()).someMethod();
    not: verify(mock.someMethod());
Also, if you use @Mock annotation don&#x27;t miss openMocks()
</code></pre>
<p>A falha diz tudo. <code>repository</code> precisa ser um Mock instanciado. Vamos instanciar ento...</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="136" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="136" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">org.mockito.exceptions.misusing.NotAMockException: 
Argument passed to verify() is of type ProductRepository and is not a mock!
...
</code></pre>
<h2 id="repository-precisa-ser-um-mock"><code>repository</code> precisa ser um Mock!</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="137" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="137" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@ExtendWith(MockitoExtension.class)</span> <span class="hljs-comment">// Habilita injeo automtica aos Mocks</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">ProductService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductService</span>();

    <span class="hljs-meta">@Mock</span>
    <span class="hljs-keyword">private</span> ProductRepository repository;

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
        <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(<span class="hljs-string">&quot;category&quot;</span>);

        verify(repository).findByCategory(<span class="hljs-string">&quot;category&quot;</span>);

        assertThat(found.size()).isEqualTo(<span class="hljs-number">1</span>);
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="138" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="138" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="problema-chave">Problema-chave</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">Wanted but not invoked:
repository.findByCategory(&quot;category&quot;);
-&gt; at org.forkstore.ProductRepository.findByCategory(ProductRepository.java:5)
Actually, there were zero interactions with this mock.
</code></pre>
<p>Podemos aprender a programar assim, analisando respostas das falhas. <code>findByCategory</code> nunca  chamado de fato.</p>
<p>Vamos fazer com que seja chamado foradamente.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="139" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="139" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    <span class="hljs-keyword">private</span> ProductRepository repository;

    <span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(String category)</span> {
        repository.findByCategory(category);

        <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());
    }
}
</code></pre>
<p>Falha. Corrigindo.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">ProductRepository</span> <span class="hljs-variable">repository</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductRepository</span>();
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>Vai falhar novamente.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="140" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="140" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">Wanted but not invoked:
repository.findByCategory(&quot;category&quot;);
-&gt; at org.forkstore.ProductRepository.findByCategory(ProductRepository.java:5)
Actually, there were zero interactions with this mock.
</code></pre>
<h2 id="e-agora">E agora?</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="141" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="141" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@ExtendWith(MockitoExtension.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-meta">@Mock</span>
    <span class="hljs-keyword">private</span> ProductRepository repository;

    <span class="hljs-keyword">private</span> <span class="hljs-type">ProductService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductService</span>(repository);

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    <span class="hljs-keyword">private</span> ProductRepository repository;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ProductService</span><span class="hljs-params">(ProductRepository repository)</span> {
        <span class="hljs-built_in">this</span>.repository = repository;
    }

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="142" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="142" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@ExtendWith(MockitoExtension.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-meta">@Mock</span>
    <span class="hljs-keyword">private</span> ProductRepository repository;

    <span class="hljs-comment">// Injeo de dependncia para o objeto service receber referencia do mock de repository </span>
    <span class="hljs-meta">@InjectMocks</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">ProductService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductService</span>(repository);

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>Ou de forma abreviada</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@ExtendWith(MockitoExtension.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-comment">// ...</span>
    <span class="hljs-meta">@InjectMocks</span>
    <span class="hljs-keyword">private</span> ProductService service;

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="143" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="143" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="resolvido-sabemos-que-findbycategory-%C3%A9-chamado-na-regra-de-neg%C3%B3cio">Resolvido. Sabemos que <code>findByCategory</code>  chamado na regra de negcio.</h2>
<h2 id="no-entanto-o-c%C3%B3digo-est%C3%A1-nos-enganando-este-retorno-assim-precisa-mudar">No entanto, o cdigo est nos enganando. Este retorno assim precisa mudar.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(String category)</span> {
    repository.findByCategory(category);

    <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());
}
</code></pre>
<h2 id="como-vamos-deixar-os-testes-ainda-mais-espec%C3%ADficos-para-provocar-maior-generalidade">Como? Vamos deixar os testes ainda mais especficos para provocar maior generalidade.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="144" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="144" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="uma-nova-categoria-pode-retornar-2-produtos">Uma nova categoria pode retornar 2 produtos.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
    <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(<span class="hljs-string">&quot;category&quot;</span>);

    verify(repository).findByCategory(<span class="hljs-string">&quot;category&quot;</span>);

    assertThat(found.size()).isEqualTo(<span class="hljs-number">1</span>);

    found = service.searchByCategory(<span class="hljs-string">&quot;other&quot;</span>);

    verify(repository).findByCategory(<span class="hljs-string">&quot;other&quot;</span>);

    assertThat(found.size()).isEqualTo(<span class="hljs-number">2</span>);
}
</code></pre>
<p>Agora vamos ter a falha que precisamos.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="145" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="145" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="qual-solu%C3%A7%C3%A3o">Qual soluo?</h2>
<ul>
<li>A mais bvia</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(String category)</span> {
    repository.findByCategory(category);

    <span class="hljs-keyword">if</span> (category.equals(<span class="hljs-string">&quot;category&quot;</span>)) <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());

    <span class="hljs-keyword">if</span> (category.equals(<span class="hljs-string">&quot;other&quot;</span>)) <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());

    <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());
}
</code></pre>
<p><strong>Resolve, mas cria um problema: os ifs esto gerando duplicao.</strong> Vamos refatorar e<br />
procurar uma forma mais inteligente de remover a duplicao.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="146" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="146" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="maneira-singela-jogue-a-duplica%C3%A7%C3%A3o-para-longe-do-system-under-test">Maneira singela: jogue a duplicao para longe do System Under Test</h2>
<p>E como a regra de negcio s tem feito 1 ao, j colete o seu retorno. Se porventura precisarmos de adicionar novas regras,  s reescrever.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(String category)</span> {
    <span class="hljs-keyword">return</span> repository.findByCategory(category);
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> {
    <span class="hljs-keyword">if</span> (category.equals(<span class="hljs-string">&quot;category&quot;</span>)) <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());

    <span class="hljs-keyword">if</span> (category.equals(<span class="hljs-string">&quot;other&quot;</span>)) <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());

    <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());
}
</code></pre>
<p><strong>Teremos problemas de compilao. Vamos ajustar a assinatura do mtodo.</strong></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="147" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="147" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="ajustando">Ajustando</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> { <span class="hljs-comment">/* ... */</span> }
</code></pre>
<p>Isso resolve a compilao. Entretanto, os testes falharam.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">org.opentest4j.AssertionFailedError: 
expected: 1
 but was: 0
Expected :1
Actual   :0
</code></pre>
<h2 id="qual-a-raz%C3%A3o">Qual a razo?</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="148" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="148" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="um-objeto-mockado-ou-o-ato-de-mockar-em-si-%C3%A9-um-tipo-de-intercepta%C3%A7%C3%A3o-ou-sequestro-da-cpu">Um objeto &quot;mockado&quot; ou o ato de &quot;mockar&quot; em si  um tipo de interceptao ou &quot;sequestro&quot; da CPU.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@ExtendWith(MockitoExtension.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductServiceTest</span> {
    <span class="hljs-meta">@Mock</span>
    <span class="hljs-keyword">private</span> ProductRepository repository;

    <span class="hljs-meta">@InjectMocks</span>
    <span class="hljs-keyword">private</span> ProductService service;

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
        <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(<span class="hljs-string">&quot;category&quot;</span>);

        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="149" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="149" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="o-que-vai-acontecer-com-a-cpu">O que vai acontecer com a CPU?</h2>
<ol>
<li>O objeto <code>service</code> vai receber a referncia de um objeto anotado com <code>@Mock</code> caso a utilize. E realmente vai ser usado, pois o construtor de <code>ProductService</code> vai receb-la.</li>
</ol>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">ProductService</span><span class="hljs-params">(ProductRepository repository)</span> {
    <span class="hljs-built_in">this</span>.repository = repository;
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="150" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="150" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<ol start="2">
<li>O campo <code>repository</code> anotado com <code>@Mock</code> indica que o objeto do tipo <code>ProductRepository</code> ter sua instanciao interceptada. Ela vai ser substituda por um outro objeto que vai atuar como um <strong>dubl</strong>.</li>
</ol>
<h2 id="no-fim-das-contas-repository-ser%C3%A1-um-doppelganger">No fim das contas, <code>repository</code> ser um Doppelganger.</h2>
<h2 id="como-isso-funciona-exatamente-estude-um-outro-grande-t%C3%B3pico-chamado-java-reflection-api-as-frameworks-de-mock-a-utilizam">Como isso funciona exatamente? Estude um outro grande tpico chamado <code>Java Reflection API</code>. As frameworks de Mock a utilizam.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="151" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="151" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/doppel-1.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="152" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="152" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="esse-dubl%C3%AA-por-outro-lado-n%C3%A3o-sabe-o-que-vai-imitar-inicialmente-o-objeto-mockado-apenas-imita-as-assinaturas-dos-m%C3%A9todos-da-classe-a-ser-imitada">Esse dubl, por outro lado, no sabe o que vai imitar. Inicialmente, o objeto mockado apenas imita as assinaturas dos mtodos da classe a ser imitada.</h2>
<h2 id="como-programadores-somos-respons%C3%A1veis-pelo-jogo-da-imita%C3%A7%C3%A3o-como-n%C3%A3o-colocamos-instru%C3%A7%C3%B5es-de-imita%C3%A7%C3%A3o-nosso-c%C3%B3digo-falha">Como programadores, somos responsveis pelo &quot;Jogo da Imitao&quot;. Como no colocamos instrues de imitao, nosso cdigo falha.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="153" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="153" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="inserindo-instru%C3%A7%C3%B5es-de-imita%C3%A7%C3%A3o-atua%C3%A7%C3%A3o-ou-stubbing">Inserindo instrues de imitao, atuao ou <code>stubbing</code></h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
    when(repository.findByCategory(<span class="hljs-string">&quot;category&quot;</span>)).thenReturn(List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>()));
    when(repository.findByCategory(<span class="hljs-string">&quot;other&quot;</span>)).thenReturn(List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>()));

    <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(<span class="hljs-string">&quot;category&quot;</span>);

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 id="pronto-resolvido-mas-vamos-fazer-limpezas">Pronto, resolvido! Mas vamos fazer limpezas.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="154" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="154" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="limpe-os-ifs-que-estavam-aqui-n%C3%A3o-s%C3%A3o-mais-necess%C3%A1rios">Limpe os ifs que estavam aqui. No so mais necessrios.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRepository</span> {
    <span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="155" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="155" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="isto-aqui-est%C3%A1-uma-bagun%C3%A7a-vamos-sair-disto">Isto aqui est uma baguna. Vamos sair disto</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
    when(repository.findByCategory(<span class="hljs-string">&quot;category&quot;</span>)).thenReturn(List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>()));
    when(repository.findByCategory(<span class="hljs-string">&quot;other&quot;</span>)).thenReturn(List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>()));

    <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(<span class="hljs-string">&quot;category&quot;</span>);

    verify(repository).findByCategory(<span class="hljs-string">&quot;category&quot;</span>);

    assertThat(found.size()).isEqualTo(<span class="hljs-number">1</span>);

    found = service.searchByCategory(<span class="hljs-string">&quot;other&quot;</span>);

    verify(repository).findByCategory(<span class="hljs-string">&quot;other&quot;</span>);

    assertThat(found.size()).isEqualTo(<span class="hljs-number">2</span>);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="156" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="156" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="para-isto">Para isto</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">category</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;category&quot;</span>;
    <span class="hljs-type">String</span> <span class="hljs-variable">other</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;other&quot;</span>;

    List&lt;Object&gt; productsFromCategory = List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());
    List&lt;Object&gt; productsFromOther = List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());

    stubbingFindByCategory(category, productsFromCategory);
    stubbingFindByCategory(other, productsFromOther);

    searchByCategoryAndAssert(<span class="hljs-string">&quot;category&quot;</span>, <span class="hljs-number">1</span>);
    searchByCategoryAndAssert(<span class="hljs-string">&quot;other&quot;</span>, <span class="hljs-number">2</span>);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="157" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="157" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stubbingFindByCategory</span><span class="hljs-params">(String category, List&lt;Object&gt; products)</span> {
    when(repository.findByCategory(category)).thenReturn(products);
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">searchByCategoryAndAssert</span><span class="hljs-params">(String category, <span class="hljs-type">int</span> expectedSize)</span> {
    <span class="hljs-type">var</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> service.searchByCategory(category);

    verify(repository).findByCategory(category);

    assertThat(found.size()).isEqualTo(expectedSize);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="158" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="158" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="vamos-dar-um-nome-decente-ao-teste">Vamos dar um nome decente ao teste.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">shouldSearchByCategory</span><span class="hljs-params">()</span> { <span class="hljs-comment">/* ... */</span> }  
</code></pre>
<h2 id="mas-e-esses-new-object-calma-temos-que-ter-testes-espec%C3%ADficos-para-nos-criar-a-necessidade-de-mudar">Mas e esses <code>new Object()</code>? Calma, temos que ter testes especficos para nos criar a necessidade de mudar.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="159" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="159" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="terminamos-nosso-teste-unit%C3%A1rio-por-favor-verifique-se-est%C3%A1-passando">Terminamos nosso teste unitrio. Por favor, verifique se est passando.</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="160" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="160" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="9-implementando-um-teste-integrado-relembrando">9. Implementando um Teste Integrado. Relembrando</h1>
<h2 id="principal-prop%C3%B3sito-do-teste-integrado-verificar-se-abstra%C3%A7%C3%B5es-constru%C3%ADdas-com-o-c%C3%B3digo-dos-outros-ou-externos-ir%C3%A3o-funcionar-como-deveria">Principal Propsito do Teste Integrado: verificar se abstraes construdas com o cdigo dos outros ou externos iro funcionar como deveria.</h2>
<h2 id="s%C3%B3-lembrar-disto-testar-com-um-c%C3%B3digo-que-n%C3%A3o-podemos-alterar">S lembrar disto: testar com um cdigo que no podemos alterar.</h2>
<h2 id="qual-teste-%C3%A9-o-melhor-candidato-testar-nosso-repository-com-jpa-jakarta-persistence">Qual teste  o melhor candidato? Testar nosso <code>repository</code> com JPA (Jakarta Persistence).</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="161" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="161" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="temos">Temos</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRepositoryIT</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {

    }
}
</code></pre>
<p>Vamos l</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRepositoryIT</span> {
    <span class="hljs-keyword">private</span> ProductRepository repository;

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
        <span class="hljs-type">var</span> <span class="hljs-variable">products</span> <span class="hljs-operator">=</span> repository.findByCategory(<span class="hljs-string">&quot;category&quot;</span>);
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="162" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="162" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="resolvendo-falhas">Resolvendo falhas</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRepositoryIT</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">ProductRepository</span> <span class="hljs-variable">repository</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductRepository</span>();

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 id="estamos-procurando-testar-a-intera%C3%A7%C3%A3o-com-um-banco-de-dados-existem-particularidades-a-serem-testadas-em-qualquer-banco-de-dados-qual-aspecto-degenerado-de-um-objeto-de-um-bd">Estamos procurando testar a interao com um Banco de Dados. Existem particularidades a serem testadas em qualquer banco de dados. Qual aspecto degenerado de um objeto de um BD?</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="163" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="163" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="vamos-testar-a-presen%C3%A7a-de-chave-prim%C3%A1ria">Vamos testar a presena de chave primria</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
    <span class="hljs-type">var</span> <span class="hljs-variable">products</span> <span class="hljs-operator">=</span> repository.findByCategory(<span class="hljs-string">&quot;category&quot;</span>);

    Assertions.assertThat(products.get(<span class="hljs-number">0</span>).getId()).isEqualTo(<span class="hljs-number">1L</span>);
}
</code></pre>
<p>Falha. Como resolver? Vemos que a assinatura abaixo est nos tirando a possibilidade de definir o mtodo <code>getId()</code>.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> { <span class="hljs-comment">/* ... */</span> }
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="164" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="164" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="a-classe-object-vai-dar-lugar-%C3%A0-sua-herdeira-product">A classe <code>Object</code> vai dar lugar  sua herdeira: <code>Product</code></h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Object</span> {}

<span class="hljs-comment">// Ou melhor</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {}
</code></pre>
<h2 id="em-tdd-viramos-artes%C3%A3os-do-barro-das-coisas-sem-forma-nascem-as-coisas-bem-definidas">Em TDD, viramos artesos: do barro, das coisas sem forma, nascem as coisas bem definidas.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="165" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="165" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="vamos-ter-uma-falha-em-outro-c%C3%B3digo">Vamos ter uma falha em outro cdigo</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(String category)</span> {
    <span class="hljs-keyword">return</span> repository.findByCategory(category);
}
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">java: incompatible types: ...List&lt;org.forkstore.Product&gt; cannot be converted to ...List&lt;java.lang.Object&gt;
</code></pre>
<p>Simples. Mas isso vai gerar uma cascata de erros. Outros testes acabam sendo dependentes deste cdigo. Vamos precisar consert-los.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(String category)</span> {
    <span class="hljs-keyword">return</span> repository.findByCategory(category);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="166" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="166" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="consertando">Consertando</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stubbingFindByCategory</span><span class="hljs-params">(String category, List&lt;Object&gt; products)</span> {
    when(repository.findByCategory(category)).thenReturn(products);
}
</code></pre>
<p>transforme em</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stubbingFindByCategory</span><span class="hljs-params">(String category, List&lt;Product&gt; products)</span> {
    when(repository.findByCategory(category)).thenReturn(products);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="167" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="167" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="l%C3%A1-embaixo-devemos-mexer">L embaixo, devemos mexer</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">shouldSearchByCategory</span><span class="hljs-params">()</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">category</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;category&quot;</span>;
    <span class="hljs-type">String</span> <span class="hljs-variable">other</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;other&quot;</span>;

    List&lt;Product&gt; productsFromCategory = List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>());
    List&lt;Product&gt; productsFromOther = List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>());

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 id="ok-devemos-retestar-as-classes-que-tiveram-altera%C3%A7%C3%B5es-sim-mas-recomenda-se-focar-na-classe-de-teste-escolhida-no-caso-temos-que-nos-focar-em-productrepositoryit">Ok. Devemos retestar as classes que tiveram alteraes? Sim, mas recomenda-se focar na classe de teste escolhida. No caso, temos que nos focar em <code>ProductRepositoryIT</code>.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="168" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="168" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="se-estiver-treinando-via-linha-de-comando-o-maven-permite-individualizar-a-classe-de-teste">Se estiver treinando via linha de comando, o Maven permite individualizar a classe de teste.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-shell">mvn clean verify -Dtest=ProductRepositoryIT
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="169" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="169" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="agora-podemos-implementar-getid">Agora podemos implementar <code>getId()</code></h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0L</span>;
    }
}
</code></pre>
<blockquote>
<p>Long? Tradicionalmente em mapeamento Objeto-relacional, IDs podem ser muito grandes. Long  o suficiente e de melhor capacidade.</p>
</blockquote>
<h2 id="resolvido-teremos-erro-l%C3%B3gico">Resolvido. Teremos erro lgico.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="170" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="170" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because &quot;products&quot; is null
</code></pre>
<h2 id="isso-se-deve-porque-estamos-fazendo">Isso se deve porque estamos fazendo</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<p>Corrija</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> {
    <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>());
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="171" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="171" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="nova-falha-ainda">Nova falha ainda</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">org.opentest4j.AssertionFailedError: 
expected: 1L
 but was: 0L
Expected :1L
Actual   :0L
</code></pre>
<h2 id="solu%C3%A7%C3%A3o">Soluo</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1L</span>;
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="172" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="172" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="asser%C3%A7%C3%A3o-para-id-2">Assero para ID 2</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java">Assertions.assertThat(products.get(<span class="hljs-number">1</span>).getId()).isEqualTo(<span class="hljs-number">2L</span>);
</code></pre>
<p>Compreensvel</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">java.lang.IndexOutOfBoundsException: Index: 1 Size: 1
</code></pre>
<p>Rpido</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> {
    <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>());
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="173" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="173" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">org.opentest4j.AssertionFailedError: 
expected: 2L
 but was: 1L
Expected :2L
Actual   :1L
</code></pre>
<h2 id="e-agora-simples">E agora? Simples.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">Long</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id++;
    }
}
</code></pre>
<h2 id="resolve-entretanto-estamos-criando-assim-um-tipo-de-persist%C3%AAncia-em-mem%C3%B3ria-ram">Resolve. Entretanto, estamos criando assim um tipo de persistncia em memria RAM.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="174" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="174" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="refatorando-para-dar-suporte-ao-jpa">Refatorando para dar suporte ao JPA.</h2>
<p>O teste integrado tem a necessidade de testar um <strong>cdigo externo</strong> fora de nosso controle. O teste que fizemos anteriormente  um Unitrio ainda. Vamos transformar em Integrado.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="175" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="175" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="transforma%C3%A7%C3%B5es-temos">Transformaes. Temos</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">import</span> jakarta.persistence.Entity;
<span class="hljs-keyword">import</span> jakarta.persistence.Id;
<span class="hljs-keyword">import</span> lombok.Getter;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Getter</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> Long id;
}
</code></pre>
<h2 id="falha-ainda-vamos-melhorar-as-asser%C3%A7%C3%B5es">Falha ainda. Vamos melhorar as asseres.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="176" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="176" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java">Assertions.assertThat(products.get(<span class="hljs-number">0</span>).getId()).isEqualTo(<span class="hljs-number">1L</span>);
Assertions.assertThat(products.get(<span class="hljs-number">1</span>).getId()).isEqualTo(<span class="hljs-number">2L</span>);
</code></pre>
<p>para</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-type">Product</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> products.get(<span class="hljs-number">0</span>);
<span class="hljs-type">Product</span> <span class="hljs-variable">second</span> <span class="hljs-operator">=</span> products.get(<span class="hljs-number">1</span>);

assertThat(first.getId()).isEqualTo(<span class="hljs-number">1L</span>);
assertThat(second.getId()).isEqualTo(<span class="hljs-number">2L</span>);
</code></pre>
<p>Fica mais ntido o problema. <code>getId</code> retorna o valor do campo <code>id</code> que  nulo. <code>Long</code> no  um tipo primitivo,  um tipo chamado <strong>Wrapper Class</strong>. Ele &quot;embala&quot; um primitivo.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="177" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="177" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="a-raz%C3%A3o-da-falha-est%C3%A1-no-fato-de-que-os-objetos-est%C3%A3o-sendo-criados-sem-definir-id">A razo da falha est no fato de que os objetos esto sendo criados sem definir ID.</h2>
<h2 id="para-resolver-esse-de-forma-efetiva-podemos-seguir-uma-dire%C3%A7%C3%A3o-mais-interessante-transformar-productrepository-num-crudrepository">Para resolver esse de forma efetiva, podemos seguir uma direo mais interessante. Transformar <code>ProductRepository</code> num <code>CrudRepository</code>.</h2>
<p>Vamos sair disto</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRepository</span> {
    <span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String category)</span> {
        <span class="hljs-keyword">return</span> List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>());
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="178" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="178" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p>Para isto</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Repository;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProductRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaRepository</span>&lt;Product, Long&gt; {
    List&lt;Product&gt; <span class="hljs-title function_">findByCategory</span><span class="hljs-params">(String name)</span>;
}
</code></pre>
<h2 id="automagicamente-vamos-ganhar-de-brinde-a-implementa%C3%A7%C3%A3o-de-findbycategory-que-o-jpa-j%C3%A1-tem-pronta-%C3%A9-o-reuso-na-sua-maior-express%C3%A3o">Automagicamente, vamos ganhar de brinde a implementao de <code>findByCategory()</code> que o JPA j tem pronta.  o <strong>reuso</strong> na sua maior expresso.</h2>
<h2 id="falha-de-compila%C3%A7%C3%A3o-ainda">Falha de compilao ainda.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="179" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="179" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="n%C3%A3o-podemos-instanciar-um-interface">No podemos instanciar um interface.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRepositoryIT</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">ProductRepository</span> <span class="hljs-variable">repository</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductRepository</span>();
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 id="solu%C3%A7%C3%A3o-inje%C3%A7%C3%A3o-de-depend%C3%AAncia">Soluo: Injeo de Dependncia</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> ProductRepository repository;
</code></pre>
<h2 id="s%C3%B3-podemos-injetar-uma-depend%C3%AAncia-se-um-terceiro-instanci%C3%A1-la-antes-para-a-gente-quem-vai-fazer-isso-por-n%C3%B3s">S podemos injetar uma dependncia se um terceiro instanci-la antes para a gente. Quem vai fazer isso por ns?</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="180" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="180" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="datajpatest"><code>@DataJpaTest</code></h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@DataJpaTest</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductRepositoryIT</span> { <span class="hljs-comment">/* ... */</span> }
</code></pre>
<h2 id="isso-vai-fazer-o-banco-de-dados-h2-sair-da-jaula-vamos-precisar-dele-para-os-testes-fazerem-sentido-alcan%C3%A7amos-o-verdadeiro-prop%C3%B3sito-do-teste-integrado">Isso vai fazer o Banco de Dados H2 sair da jaula!!! Vamos precisar dele para os testes fazerem sentido. Alcanamos o verdadeiro propsito do teste integrado.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="181" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="181" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="agora-teremos">Agora teremos</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">No property &#x27;category&#x27; found for type &#x27;Product&#x27;
</code></pre>
<h2 id="definimos-ent%C3%A3o-o-campo">Definimos ento o campo</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Getter</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-keyword">private</span> String category;
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="182" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="182" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="calma">Calma</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0
</code></pre>
<h2 id="por-que-ser%C3%A1-como-o-banco-de-dados-foi-iniciado-a-tabela-de-product-est%C3%A1-vazia-s%C3%B3-a-gente-acionar-a-persist%C3%AAncia">Por que ser? Como o banco de dados foi iniciado, a tabela de <code>Product</code> est vazia. S a gente acionar a persistncia.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="183" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="183" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
    repository.saveAll(List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>()));
}
</code></pre>
<p>Falha.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">...JpaSystemException: Identifier of entity &#x27;...Product&#x27; must be manually assigned before calling &#x27;persist()&#x27;
</code></pre>
<h2 id="isto-se-deve-%C3%A0-falta-de-atribui%C3%A7%C3%A3o-de-id-d%C3%A1-para-resolver-r%C3%A1pido-sem-gambiarras">Isto se deve  falta de atribuio de ID. D para resolver rpido sem gambiarras.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Id</span>
<span class="hljs-meta">@GeneratedValue</span> <span class="hljs-comment">// automatiza a gerao de ID</span>
<span class="hljs-keyword">private</span> Long id;
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="184" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="184" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p>Voltamos ao</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0
</code></pre>
<h2 id="minha-hip%C3%B3tese-category-n%C3%A3o-est%C3%A1-sendo-cadastrado-no-banco">Minha hiptese: <code>category</code> no est sendo cadastrado no banco</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="185" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="185" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="vamos-utilizar-o-pattern-builder-fornecido-pelo-lombok">Vamos utilizar o pattern <strong>Builder</strong> fornecido pelo Lombok</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
    <span class="hljs-type">Product</span> <span class="hljs-variable">one</span> <span class="hljs-operator">=</span> Product.builder()
        .category(<span class="hljs-string">&quot;category&quot;</span>)
        .build();

    <span class="hljs-type">Product</span> <span class="hljs-variable">two</span> <span class="hljs-operator">=</span> Product.builder()
        .category(<span class="hljs-string">&quot;category&quot;</span>)
        .build();

    repository.saveAll(List.of(one, two));

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="186" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="186" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Getter</span>
<span class="hljs-meta">@Builder</span> <span class="hljs-comment">// AQUI!</span>
<span class="hljs-meta">@NoArgsConstructor</span> <span class="hljs-comment">// VAI PRECISAR PARA NO QUEBRAR OUTROS TESTES</span>
<span class="hljs-meta">@AllArgsConstructor</span> <span class="hljs-comment">// VAI PRECISAR</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-keyword">private</span> String category;
}
</code></pre>
<h2 id="resolvido">Resolvido!</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="187" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="187" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="limpando-o-teste-e-colocando-um-bom-nome">Limpando o teste e colocando um bom nome</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">shouldFindByCategory</span><span class="hljs-params">()</span> {
    <span class="hljs-type">var</span> <span class="hljs-variable">one</span> <span class="hljs-operator">=</span> Product.builder()
        .category(<span class="hljs-string">&quot;category&quot;</span>)
        .build();

    <span class="hljs-type">var</span> <span class="hljs-variable">two</span> <span class="hljs-operator">=</span> Product.builder()
        .category(<span class="hljs-string">&quot;category&quot;</span>)
        .build();

    repository.saveAll(List.of(one, two));

    <span class="hljs-type">var</span> <span class="hljs-variable">products</span> <span class="hljs-operator">=</span> repository.findByCategory(<span class="hljs-string">&quot;category&quot;</span>);

    one = products.get(<span class="hljs-number">0</span>);
    two = products.get(<span class="hljs-number">1</span>);

    assertThat(one.getId()).isEqualTo(<span class="hljs-number">1L</span>);
    assertThat(two.getId()).isEqualTo(<span class="hljs-number">2L</span>);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="188" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="188" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="observamos-que-os-logs-mostram-os-comandos-do-sql-isso-nos-ajuda-a-saber-que-de-fato-um-banco-de-dados-relacional-foi-usado">Observamos que os logs mostram os comandos do SQL. Isso nos ajuda a saber que de fato um banco de dados relacional foi usado.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">Hibernate: select next value for product_seq
Hibernate: select next value for product_seq
Hibernate: insert into product (category,id) values (?,?)
Hibernate: insert into product (category,id) values (?,?)
Hibernate: select p1_0.id,p1_0.category from product p1_0 where p1_0.category=?
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="189" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="189" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="10-implementando-teste-integrado-de-controller">10. Implementando Teste Integrado de Controller</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="190" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="190" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="um-controller-%C3%A9-um-componente-de-infraestrutura-o-prop%C3%B3sito-dele-%C3%A9-de-cuidar-do-recebimento-processar-e-dar-resposta-a-uma-requisi%C3%A7%C3%A3o">Um Controller  um componente de Infraestrutura. O propsito dele  de cuidar do recebimento, processar e dar resposta a uma requisio.</h2>
<h2 id="na-arquitetura-restful-um-controller-recebe-uma-requisi%C3%A7%C3%A3o-http-e-responde-sob-http-atrav%C3%A9s-de-uma-route-e-um-verbo-get-post-put">Na Arquitetura RESTful, um Controller recebe uma requisio HTTP e responde sob HTTP atravs de uma <code>route</code> e um verbo (<code>GET</code>, <code>POST</code>, <code>PUT</code>, ...).</h2>
<h2 id="vale-ressaltar-que-para-ser-restful-%C3%A9-preciso-cumprir-demais-requisitos-fora-de-escopo-deste-material-veja-sobre-hateoas">Vale ressaltar que para ser RESTful  preciso cumprir demais requisitos fora de escopo deste material. (Veja sobre HATEOAS).</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="191" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="191" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="comecemos-vamos-usar-uma-framework-chamada-spring-mvc-test-ou-mockmvc-%C3%A9-mais-confi%C3%A1vel-do-que-testar-as-classes-de-controller-chamando-seus-m%C3%A9todos-desprezando-se-as-partes-importantes">Comecemos. Vamos usar uma framework chamada <a href="https://docs.spring.io/spring-framework/reference/testing/spring-mvc-test-framework.html">Spring MVC Test ou MockMVC</a>.  mais confivel do que testar as classes de controller chamando seus mtodos, desprezando-se as partes importantes.</h2>
<h2 id="mockmvc-nos-permite-testar-request-mappings-data-binding-message-conversion-type-conversion-validation-e-etc"><a href="https://docs.spring.io/spring-framework/reference/testing/spring-mvc-test-framework/server.html">MockMVC nos permite testar: request mappings, data binding, message conversion, type conversion, validation e etc</a>.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductControllerIT</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">nothing</span><span class="hljs-params">()</span> {
        <span class="hljs-type">var</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> mockMvc
            .perform(get(<span class="hljs-string">&quot;/product&quot;</span>).queryParam(<span class="hljs-string">&quot;category&quot;</span>, <span class="hljs-string">&quot;acategory&quot;</span>));
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="192" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="192" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="falha-resolvendo">Falha. Resolvendo</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductControllerIT</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MockMvc mockMvc;
}
</code></pre>
<h2 id="aten%C3%A7%C3%A3o">Ateno!</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">No qualifying bean of type &#x27;...MockMvc&#x27; available: expected at least 1 bean which qualifies as autowire candidate. ...
</code></pre>
<h2 id="isso-nos-faz-lembrar-de-que-na-inje%C3%A7%C3%A3o-de-depend%C3%AAncia-a-instancia%C3%A7%C3%A3o-de-um-objeto-vem-de-um-terceiro-que-vai-instanciar-para-a-gente">Isso nos faz lembrar de que na Injeo de Dependncia, a instanciao de um objeto vem de um terceiro que vai instanciar para a gente.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="193" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="193" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="solu%C3%A7%C3%A3o-1">Soluo</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-meta">@AutoConfigureMockMvc</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductControllerIT</span> { <span class="hljs-comment">/* ... */</span> }
</code></pre>
<h2 id="adicionando-j%C3%A1-temos-nossa-falha-de-l%C3%B3gica">Adicionando. J temos nossa falha de lgica!</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-type">var</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> mockMvc
    .perform(get(<span class="hljs-string">&quot;/product&quot;</span>).queryParam(<span class="hljs-string">&quot;category&quot;</span>, <span class="hljs-string">&quot;acategory&quot;</span>))
    .andExpect(status().isOk());
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;404&gt;
Expected :200
Actual   :404
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="194" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="194" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="seguindo-vai-dar-verde-rota-vai-retornar-200-ok">Seguindo. Vai dar verde. Rota vai retornar 200 Ok.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductController</span> {
    <span class="hljs-meta">@RequestMapping(method = RequestMethod.GET, value = &quot;/product&quot;)</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">()</span> {}
}
</code></pre>
<h2 id="exija-que-o-conte%C3%BAdo-da-resposta-do-servidor-seja-do-tipo-applicationjson">Exija que o contedo da resposta do servidor seja do tipo <code>application/json</code>.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-type">var</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> mockMvc
    .perform(get(<span class="hljs-string">&quot;/product&quot;</span>).queryParam(<span class="hljs-string">&quot;category&quot;</span>, <span class="hljs-string">&quot;acategory&quot;</span>))
    .andExpect(status().isOk())
    .andExpect(content().contentType(MediaType.APPLICATION_JSON_VALUE));
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="195" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="195" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@RequestMapping(method = RequestMethod.GET, value = &quot;/product&quot;, produces = MediaType.APPLICATION_JSON_VALUE)</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">()</span> { <span class="hljs-comment">/* ... */</span> }
</code></pre>
<p>Isso ainda no resolve. Mesmo erro. Mas  fcil resolver.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@RequestMapping(method = RequestMethod.GET, /* ... */)</span>
String <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;
}
</code></pre>
<h2 id="testando-se-a-query-param-foi-recebida-falha">Testando se a query param foi recebida. Falha.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java">assertThat(response.getRequest().getParameter(<span class="hljs-string">&quot;category&quot;</span>)).isEqualTo(<span class="hljs-string">&quot;acategory&quot;</span>);
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="196" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="196" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="resolva">Resolva</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-comment">// ...</span>
String <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(name = &quot;category&quot;)</span> String category)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;
}
</code></pre>
<h2 id="limpe">Limpe</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">shouldSearchByCategory_Ok</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-type">var</span> <span class="hljs-variable">queryParamName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;category&quot;</span>;
    <span class="hljs-type">var</span> <span class="hljs-variable">queryParamValue</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;acategory&quot;</span>;

    <span class="hljs-type">var</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> mockMvc
        .perform(get(<span class="hljs-string">&quot;/product&quot;</span>).queryParam(queryParamName, queryParamValue))
        .andExpect(status().isOk())
        .andExpect(content().contentType(MediaType.APPLICATION_JSON_VALUE))
        .andReturn();

    assertThat(response.getRequest().getParameter(queryParamName)).isEqualTo(queryParamValue);
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="197" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="197" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="aconselho-parar-por-ai-est%C3%A1-%C3%B3timo">Aconselho parar por ai. Est timo!</h2>
<h2 id="um-controller-vai-ser-ainda-testado-pelos-testes-de-aceita%C3%A7%C3%A3o-n%C3%A3o-vamos-testar-nada-mais-al%C3%A9m-do-que-aspectos-de-comunica%C3%A7%C3%A3o-do-rest-com-ele">Um Controller vai ser ainda testado pelos testes de aceitao. No vamos testar nada mais alm do que aspectos de comunicao do REST com ele.</h2>
<h2 id="alguns-desenvolvedores-inserem-testes-como-para-verificar-se-o-c%C3%B3digo-do-servi%C3%A7o-ser%C3%A1-de-fato-acionado-dentro-do-controller-existem-outras-maneiras-de-atestar-isso">Alguns desenvolvedores inserem testes como para verificar se o cdigo do servio ser de fato acionado dentro do controller. Existem outras maneiras de atestar isso.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="198" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="198" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="temos-sempre-que-ter-o-cuidado-de-separar-as-responsabilidades-de-cada-componente-e-delimitar-o-n%C3%BAmero-de-depend%C3%AAncias-de-teste">Temos sempre que ter o cuidado de separar as responsabilidades de cada componente e delimitar o nmero de dependncias de teste.</h2>
<h2 id="existem-um-t%C3%B3pico-mais-avan%C3%A7ado-que-trata-sobre-isso-fragilidade-dos-testes">Existem um tpico mais avanado que trata sobre isso: <strong>Fragilidade dos Testes</strong>.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="199" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="199" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="11-vamos-fazer-os-%C3%BAltimos-ajustes">11. Vamos fazer os ltimos ajustes</h1>
<h2 id="ao-executarmos-todos-os-testes-somente-os-testes-de-aceita%C3%A7%C3%A3o-falham-ainda">Ao executarmos todos os testes, somente os testes de aceitao falham ainda.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="200" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="200" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/uat-1.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="201" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="201" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="lendo-o-log-de-erro-notamos">Lendo o log de erro, notamos</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">Step failed
java.lang.IllegalArgumentException: argument &quot;content&quot; is null
</code></pre>
<h2 id="temos-um-teste-falhando-s%C3%B3-seguir-o-tdd-vamos-fazer-passar">Temos um teste falhando. S seguir o TDD, vamos fazer passar.</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java">List&lt;Product&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(name = &quot;category&quot;)</span> String category)</span> {
    <span class="hljs-keyword">return</span> List.of(Product.builder().build());
}
</code></pre>
<h2 id="j%C3%A1-ajuda-um-pouco-entretanto">J ajuda um pouco. Entretanto,</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">Step failed
Expected :3
Actual   :1
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="202" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="202" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="e-assim">E assim?</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java">List&lt;Product&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(name = &quot;category&quot;)</span> String category)</span> {
    <span class="hljs-type">Product</span> <span class="hljs-variable">one</span> <span class="hljs-operator">=</span> Product.builder().build();
    <span class="hljs-type">Product</span> <span class="hljs-variable">two</span> <span class="hljs-operator">=</span> Product.builder().build();
    <span class="hljs-type">Product</span> <span class="hljs-variable">three</span> <span class="hljs-operator">=</span> Product.builder().build();
    <span class="hljs-keyword">return</span> List.of(one, two, three);
}
</code></pre>
<p>Ainda no, mas melhorou.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">Step failed
java.lang.AssertionError: 
Expecting ListN:
  [&quot;null&quot;, &quot;null&quot;, &quot;null&quot;]
to contain:
  [&quot;Utensilios&quot;]
but could not find the following element(s):
  [&quot;Utensilios&quot;]
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="203" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="203" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="um-pouco-mais-inteligente-que-tal-adicionarmos-logo-o-objeto-do-service-productservice-e-chamar-o-m%C3%A9todo-searchbycategory">Um pouco mais inteligente: que tal adicionarmos logo o objeto do service <code>ProductService</code> e chamar o mtodo <code>searchByCategory</code>?</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="204" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="204" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java">List&lt;Product&gt; <span class="hljs-title function_">searchByCategory</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(name = &quot;category&quot;)</span> String category)</span> {
    <span class="hljs-keyword">return</span> service.searchByCategory(category);
}
</code></pre>
<p>e</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductController</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductService service; 

    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 id="e-agora-1">E agora?</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="205" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="205" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-text">Step failed
Expected :3
Actual   :0
</code></pre>
<h2 id="%C3%A9-um-bom-sinal-minha-hip%C3%B3tese-%C3%A9-de-que-o-controller-j%C3%A1-est%C3%A1-utilizando-o-service-e-o-banco-de-dados-est%C3%A1-sendo-consultado"> um bom sinal. Minha hiptese  de que o controller j est utilizando o service e o banco de dados est sendo consultado.</h2>
<h2 id="por-acaso-cadastramos-os-produtos-de-exemplo-vamos-l%C3%A1">Por acaso cadastramos os produtos de exemplo? Vamos l...</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="206" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="206" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PreparacaoDaHistoria</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductRepository repository;

    <span class="hljs-meta">@Dados(&quot;produtos cadastrados na loja&quot;)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">produtosCadastradosNaLoja</span><span class="hljs-params">()</span> {
        <span class="hljs-type">var</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> Product.builder()
            .category(<span class="hljs-string">&quot;Utensilios&quot;</span>)
            .build();

        <span class="hljs-type">var</span> <span class="hljs-variable">second</span> <span class="hljs-operator">=</span> Product.builder()
            .category(<span class="hljs-string">&quot;Utensilios&quot;</span>)
            .build();

        <span class="hljs-type">var</span> <span class="hljs-variable">third</span> <span class="hljs-operator">=</span> Product.builder()
            .category(<span class="hljs-string">&quot;Utensilios&quot;</span>)
            .build();

        repository.saveAll(List.of(first, second, third));
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="207" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="207" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/uat-2.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="208" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="208" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="quase-l%C3%A1-adicione-os-campos-que-o-cliente-pediu">Quase l!!! Adicione os campos que o cliente pediu.</h2>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="209" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="209" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-type">var</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> Product.builder()
    .category(<span class="hljs-string">&quot;Utensilios&quot;</span>)
    .name(<span class="hljs-string">&quot;Kit 12 Facas&quot;</span>)
    .quantity(<span class="hljs-number">3</span>)
    .available(<span class="hljs-literal">true</span>)
    .build();

<span class="hljs-type">var</span> <span class="hljs-variable">second</span> <span class="hljs-operator">=</span> Product.builder()
    .category(<span class="hljs-string">&quot;Utensilios&quot;</span>)
    .name(<span class="hljs-string">&quot;Colher de Silicone&quot;</span>)
    .quantity(<span class="hljs-number">12</span>)
    .available(<span class="hljs-literal">true</span>)
    .build();

<span class="hljs-type">var</span> <span class="hljs-variable">third</span> <span class="hljs-operator">=</span> Product.builder()
    .category(<span class="hljs-string">&quot;Utensilios&quot;</span>)
    .name(<span class="hljs-string">&quot;Ralador 4 faces Inox&quot;</span>)
    .quantity(<span class="hljs-number">0</span>)
    .available(<span class="hljs-literal">false</span>)
    .build();
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="210" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="210" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="teremos-falha-de-compila%C3%A7%C3%A3o-resolvendo">Teremos falha de compilao. Resolvendo...</h2>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-keyword">private</span> String category;

    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-keyword">private</span> Integer quantity;

    <span class="hljs-keyword">private</span> Boolean available;
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="211" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="211" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h2 id="haja-cora%C3%A7%C3%A3o-as-madrugadas-me-revelam-que-cada-exemplo-de-teste-polui-o-banco-de-dados-vamos-limp%C3%A1-lo">Haja corao!!!! As madrugadas me revelam que cada exemplo de teste polui o banco de dados. Vamos limp-lo.</h2>
<p><img src="assets/uat-3.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="212" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="212" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hooks</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ProductRepository productRepository;

    <span class="hljs-meta">@After</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cleanUp</span><span class="hljs-params">()</span> {
        productRepository.deleteAll();
    }
}
</code></pre>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="213" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="213" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="acabou">Acabou!!!</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="214" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="214" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/uat-4.png" alt="center" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="215" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="215" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="feature-terminada-sucesso">Feature terminada sucesso!!!</h1>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="216" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="216" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/uat-5.png" alt="alt text" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="217" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="217" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<p><img src="assets/uat-6.png" alt="alt text" /></p>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="218" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;assets/2002win.gif&quot;);background-size:100%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="218" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="218" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220" data-marpit-advanced-background="content"><footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="218" style="" data-marpit-pagination-total="220" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="219" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="219" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="fica-para-a-pr%C3%B3xima-copa">Fica para a prxima Copa</h1>
<ul>
<li><s>Faa clone do projeto</s></li>
<li><s>Aprender a executar 3 tipos de teste: e2e, it e ut</s></li>
<li><s>Visualizar um relatrio de Integrao Contnua (CI: GitHub Actions)</s></li>
<li><s>(1) Como Cliente, Eu gostaria de consultar produto para comprar.</s>
<ul>
<li><s>Walking Skeleton exercitou API e Banco de Dados</s></li>
</ul>
</li>
<li><strong>(2) Como Cliente, Eu gostaria de receber um aviso de que, ao procurar um produto por categoria indisponvel, Eu receba uma mensagem me notificando.</strong></li>
</ul>
<footer>Instrutor Cristian Mello</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="220" data-paginate="true" data-footer="Instrutor Cristian Mello" lang="en-US" data-marpit-pagination="220" style="--paginate:true;--footer:Instrutor Cristian Mello;" data-marpit-pagination-total="220">
<h1 id="acaba-por-aqui">Acaba por aqui?!</h1>
<h2 id="n%C3%A3o-tdd-pode-servir-como-um-orientador-disciplinar-para-se-aprender-a-programar-de-maneira-eficaz-e-gerar-maior-confian%C3%A7a-no-c%C3%B3digo-exige-mais-repeti%C3%A7%C3%A3o-e-varia%C3%A7%C3%A3o-da-pr%C3%A1tica-com-diversos-exemplos">No. TDD pode servir como um orientador disciplinar para se aprender a programar de maneira eficaz e gerar maior confiana no cdigo. Exige mais repetio e variao da prtica com diversos exemplos.</h2>
<h2 id="%C3%A9-s%C3%B3-o-in%C3%ADcio"> s o incio.</h2>
<p>POI.</p>
<footer>Instrutor Cristian Mello</footer>
</section>
<script>!function(){"use strict";const t={h1:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"1"},style:"display: block; font-size: 2em; margin-block-start: 0.67em; margin-block-end: 0.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h2:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"2"},style:"display: block; font-size: 1.5em; margin-block-start: 0.83em; margin-block-end: 0.83em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h3:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"3"},style:"display: block; font-size: 1.17em; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h4:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"4"},style:"display: block; margin-block-start: 1.33em; margin-block-end: 1.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h5:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"5"},style:"display: block; font-size: 0.83em; margin-block-start: 1.67em; margin-block-end: 1.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h6:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"6"},style:"display: block; font-size: 0.67em; margin-block-start: 2.33em; margin-block-end: 2.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},span:{proto:()=>HTMLSpanElement},pre:{proto:()=>HTMLElement,style:"display: block; font-family: monospace; white-space: pre; margin: 1em 0; --marp-auto-scaling-white-space: pre;"}},e="data-marp-auto-scaling-wrapper",i="data-marp-auto-scaling-svg",n="data-marp-auto-scaling-container";class s extends HTMLElement{constructor(){super(),this.svgPreserveAspectRatio="xMinYMid meet";const t=t=>([e])=>{const{width:i,height:n}=e.contentRect;this[t]={width:i,height:n},this.updateSVGRect()};this.attachShadow({mode:"open"}),this.containerObserver=new ResizeObserver(t("containerSize")),this.wrapperObserver=new ResizeObserver(((...e)=>{t("wrapperSize")(...e),this.flushSvgDisplay()}))}static get observedAttributes(){return["data-downscale-only"]}connectedCallback(){var t,s,o,r,a;this.shadowRoot.innerHTML=`\n<style>\n  svg[${i}] { display: block; width: 100%; height: auto; vertical-align: top; }\n  span[${n}] { display: table; white-space: var(--marp-auto-scaling-white-space, nowrap); width: max-content; }\n</style>\n<div ${e}>\n  <svg part="svg" ${i}>\n    <foreignObject><span ${n}><slot></slot></span></foreignObject>\n  </svg>\n</div>\n    `.split(/\n\s*/).join(""),this.wrapper=null!==(t=this.shadowRoot.querySelector(`div[${e}]`))&&void 0!==t?t:void 0;const l=this.svg;this.svg=null!==(o=null===(s=this.wrapper)||void 0===s?void 0:s.querySelector(`svg[${i}]`))&&void 0!==o?o:void 0,this.svg!==l&&(this.svgComputedStyle=this.svg?window.getComputedStyle(this.svg):void 0),this.container=null!==(a=null===(r=this.svg)||void 0===r?void 0:r.querySelector(`span[${n}]`))&&void 0!==a?a:void 0,this.observe()}disconnectedCallback(){this.svg=void 0,this.svgComputedStyle=void 0,this.wrapper=void 0,this.container=void 0,this.observe()}attributeChangedCallback(){this.observe()}flushSvgDisplay(){const{svg:t}=this;t&&(t.style.display="inline",requestAnimationFrame((()=>{t.style.display=""})))}observe(){this.containerObserver.disconnect(),this.wrapperObserver.disconnect(),this.wrapper&&this.wrapperObserver.observe(this.wrapper),this.container&&this.containerObserver.observe(this.container),this.svgComputedStyle&&this.observeSVGStyle(this.svgComputedStyle)}observeSVGStyle(t){const e=()=>{const i=(()=>{const e=t.getPropertyValue("--preserve-aspect-ratio");if(e)return e.trim();return`x${(({textAlign:t,direction:e})=>{if(t.endsWith("left"))return"Min";if(t.endsWith("right"))return"Max";if("start"===t||"end"===t){let i="rtl"===e;return"end"===t&&(i=!i),i?"Max":"Min"}return"Mid"})(t)}YMid meet`})();i!==this.svgPreserveAspectRatio&&(this.svgPreserveAspectRatio=i,this.updateSVGRect()),t===this.svgComputedStyle&&requestAnimationFrame(e)};e()}updateSVGRect(){var t,e,i,n,s,o,r;let a=Math.ceil(null!==(e=null===(t=this.containerSize)||void 0===t?void 0:t.width)&&void 0!==e?e:0);const l=Math.ceil(null!==(n=null===(i=this.containerSize)||void 0===i?void 0:i.height)&&void 0!==n?n:0);void 0!==this.dataset.downscaleOnly&&(a=Math.max(a,null!==(o=null===(s=this.wrapperSize)||void 0===s?void 0:s.width)&&void 0!==o?o:0));const c=null===(r=this.svg)||void 0===r?void 0:r.querySelector(":scope > foreignObject");if(null==c||c.setAttribute("width",`${a}`),null==c||c.setAttribute("height",`${l}`),this.svg&&(this.svg.setAttribute("viewBox",`0 0 ${a} ${l}`),this.svg.setAttribute("preserveAspectRatio",this.svgPreserveAspectRatio),this.svg.style.height=a<=0||l<=0?"0":""),this.container){const t=this.svgPreserveAspectRatio.toLowerCase();this.container.style.marginLeft=t.startsWith("xmid")||t.startsWith("xmax")?"auto":"0",this.container.style.marginRight=t.startsWith("xmi")?"auto":"0"}}}const o=(t,{attrs:e={},style:i})=>class extends t{constructor(...t){super(...t);for(const[t,i]of Object.entries(e))this.hasAttribute(t)||this.setAttribute(t,i);this.attachShadow({mode:"open"})}static get observedAttributes(){return["data-auto-scaling"]}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_update(){const t=i?`<style>:host { ${i} }</style>`:"";let e="<slot></slot>";const{autoScaling:n}=this.dataset;if(void 0!==n){e=`<marp-auto-scaling exportparts="svg:auto-scaling" ${"downscale-only"===n?"data-downscale-only":""}>${e}</marp-auto-scaling>`}this.shadowRoot.innerHTML=t+e}};let r;const a=Symbol();let l;const c="marpitSVGPolyfill:setZoomFactor,",d=Symbol(),g=Symbol();const h=()=>{const t="Apple Computer, Inc."===navigator.vendor,e=t?[u]:[],i={then:e=>(t?(async()=>{if(void 0===l){const t=document.createElement("canvas");t.width=10,t.height=10;const e=t.getContext("2d"),i=new Image(10,10),n=new Promise((t=>{i.addEventListener("load",(()=>t()))}));i.crossOrigin="anonymous",i.src="data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%201%201%22%3E%3CforeignObject%20width%3D%221%22%20height%3D%221%22%20requiredExtensions%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22width%3A%201px%3B%20height%3A%201px%3B%20background%3A%20red%3B%20position%3A%20relative%22%3E%3C%2Fdiv%3E%3C%2FforeignObject%3E%3C%2Fsvg%3E",await n,e.drawImage(i,0,0),l=e.getImageData(5,5,1,1).data[3]<128}return l})().then((t=>{null==e||e(t?[u]:[])})):null==e||e([]),i)};return Object.assign(e,i)};let p,m;function u(t){const e="object"==typeof t&&t.target||document,i="object"==typeof t?t.zoom:t;window[g]||(Object.defineProperty(window,g,{configurable:!0,value:!0}),document.body.style.zoom=1.0001,document.body.offsetHeight,document.body.style.zoom=1,window.addEventListener("message",(({data:t,origin:e})=>{if(e===window.origin)try{if(t&&"string"==typeof t&&t.startsWith(c)){const[,e]=t.split(","),i=Number.parseFloat(e);Number.isNaN(i)||(m=i)}}catch(t){console.error(t)}})));let n=!1;Array.from(e.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,s,o,r;t.style.transform||(t.style.transform="translateZ(0)");const a=i||m||t.currentScale||1;p!==a&&(p=a,n=a);const l=t.getBoundingClientRect(),{length:c}=t.children;for(let i=0;i<c;i+=1){const n=t.children[i];if(n.getScreenCTM){const t=n.getScreenCTM();if(t){const i=null!==(s=null===(e=n.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==s?s:0,c=null!==(r=null===(o=n.y)||void 0===o?void 0:o.baseVal.value)&&void 0!==r?r:0,d=n.children.length;for(let e=0;e<d;e+=1){const s=n.children[e];if("SECTION"===s.tagName){const{style:e}=s;e.transformOrigin||(e.transformOrigin=`${-i}px ${-c}px`),e.transform=`scale(${a}) matrix(${t.a}, ${t.b}, ${t.c}, ${t.d}, ${t.e-l.left}, ${t.f-l.top}) translateZ(0.0001px)`;break}}}}}})),!1!==n&&Array.from(e.querySelectorAll("iframe"),(({contentWindow:t})=>{null==t||t.postMessage(`${c}${n}`,"null"===window.origin?"*":window.origin)}))}function v({once:t=!1,target:e=document}={}){const i=function(t=document){if(t[d])return t[d];let e=!0;const i=()=>{e=!1,delete t[d]};Object.defineProperty(t,d,{configurable:!0,value:i});let n=[],s=!1;(async()=>{try{n=await h()}finally{s=!0}})();const o=()=>{for(const e of n)e({target:t});s&&0===n.length||e&&window.requestAnimationFrame(o)};return o(),i}(e);return t?(i(),()=>{}):i}p=1,m=void 0;const b=Symbol(),w=(e=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(((e=document)=>{const i=window[a];i||customElements.define("marp-auto-scaling",s);for(const n of Object.keys(t)){const s=`marp-${n}`,a=t[n].proto();null!=r||(r=!!document.createElement("div",{is:"marp-auto-scaling"}).outerHTML.startsWith("<div is")),r&&a!==HTMLElement?i||customElements.define(s,o(a,{style:t[n].style}),{extends:n}):(i||customElements.define(s,o(HTMLElement,t[n])),e.querySelectorAll(`${n}[is="${s}"]`).forEach((t=>{t.outerHTML=t.outerHTML.replace(new RegExp(`^<${n}`,"i"),`<${s}`).replace(new RegExp(`</${n}>$`,"i"),`</${s}>`)})))}window[a]=!0})(e),e[b])return e[b];const i=v({target:e}),n=()=>{i(),delete e[b]},l=Object.assign(n,{cleanup:n,update:()=>w(e)});return Object.defineProperty(e,b,{configurable:!0,value:l}),l},y=document.currentScript;w(y?y.getRootNode():document)}();
</script></foreignObject></svg></div><script>/*!! License: https://unpkg.com/@marp-team/marp-cli@3.4.0/lib/bespoke.js.LICENSE.txt */
!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={from:function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),o=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),i={},a=function(e,t){return(t=t||{}).index=o.indexOf(e),t.slide=e,t},s=function(e,t){i[e]=(i[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(i[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){o[e]&&(n&&l("deactivate",a(n,t)),n=o[e],l("activate",a(n,t)))},d=function(e,t){var r=o.indexOf(n)+e;l(e>0?"next":"prev",a(n,t))&&c(r,t)},u={off:s,on:function(e,t){return(i[e]||(i[e]=[])).push(t),s.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return o.indexOf(n);l("slide",a(o[e],t))&&c(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:o,destroy:function(e){l("destroy",a(n,e)),i={}}};return(t||[]).forEach((function(e){e(u)})),n||c(0),u}},n=e(t);const r=document.body,o=(...e)=>history.replaceState(...e),i="presenter",a="next",s=["",i,a],l="bespoke-marp-",c=`data-${l}`,d=(e,{protocol:t,host:n,pathname:r,hash:o}=location)=>{const i=e.toString();return`${t}//${n}${r}${i?"?":""}${i}${o}`},u=()=>r.dataset.bespokeView,f=e=>new URLSearchParams(location.search).get(e),m=(e,t={})=>{var n;const r={location,setter:o,...t},i=new URLSearchParams(r.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?i.set(t,n):i.delete(t)}try{r.setter({...null!==(n=window.history.state)&&void 0!==n?n:{}},"",d(i,r.location))}catch(e){console.error(e)}},g=(()=>{const e="bespoke-marp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})(),p=e=>{try{return localStorage.getItem(e)}catch(e){return null}},v=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},h=e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}},y=(e,t)=>{const n="aria-hidden";t?e.setAttribute(n,"true"):e.removeAttribute(n)},b=e=>{e.parent.classList.add(`${l}parent`),e.slides.forEach((e=>e.classList.add(`${l}slide`))),e.on("activate",(t=>{const n=`${l}active`,r=t.slide,o=r.classList,i=!o.contains(n);if(e.slides.forEach((e=>{e.classList.remove(n),y(e,!0)})),o.add(n),y(r,!1),i){const e=`${n}-ready`;o.add(e),document.body.clientHeight,o.remove(e)}}))},w=e=>{let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map((e=>[null,...e.querySelectorAll("[data-marpit-fragment]")]))});const r=r=>void 0!==e.fragments[t][n+r],o=(r,o)=>{t=r,n=o,e.fragments.forEach(((e,t)=>{e.forEach(((e,n)=>{if(null==e)return;const i=t<r||t===r&&n<=o;e.setAttribute(`${c}fragment`,(i?"":"in")+"active");const a=`${c}current-fragment`;t===r&&n===o?e.setAttribute(a,"current"):e.removeAttribute(a)}))})),e.fragmentIndex=o;const i={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:o};e.fire("fragment",i)};e.on("next",(({fragment:i=!0})=>{if(i){if(r(1))return o(t,n+1),!1;const i=t+1;e.fragments[i]&&o(i,0)}else{const r=e.fragments[t].length;if(n+1<r)return o(t,r-1),!1;const i=e.fragments[t+1];i&&o(t+1,i.length-1)}})),e.on("prev",(({fragment:i=!0})=>{if(r(-1)&&i)return o(t,n-1),!1;const a=t-1;e.fragments[a]&&o(a,e.fragments[a].length-1)})),e.on("slide",(({index:t,fragment:n})=>{let r=0;if(void 0!==n){const o=e.fragments[t];if(o){const{length:e}=o;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}o(t,r)})),o(0,0)},x=document,k=()=>!(!x.fullscreenEnabled&&!x.webkitFullscreenEnabled),$=()=>!(!x.fullscreenElement&&!x.webkitFullscreenElement),E=e=>{e.fullscreen=()=>{k()&&(async()=>{return $()?null===(e=x.exitFullscreen||x.webkitExitFullscreen)||void 0===e?void 0:e.call(x):((e=x.body)=>{var t;return null===(t=e.requestFullscreen||e.webkitRequestFullscreen)||void 0===t?void 0:t.call(e)})();var e})()},document.addEventListener("keydown",(t=>{"f"!==t.key&&"F11"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!k()||(e.fullscreen(),t.preventDefault())}))},L=`${l}inactive`,S=(e=2e3)=>({parent:t,fire:n})=>{const r=t.classList,o=e=>n(`marp-${e?"":"in"}active`);let i;const a=()=>{i&&clearTimeout(i),i=setTimeout((()=>{r.add(L),o()}),e),r.contains(L)&&(r.remove(L),o(!0))};for(const e of["mousedown","mousemove","touchend"])document.addEventListener(e,a);setTimeout(a,0)},P=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"],_=e=>{e.parent.addEventListener("keydown",(e=>{if(!e.target)return;const t=e.target;(P.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()}))},T=e=>{window.addEventListener("load",(()=>{for(const t of e.slides){const e=t.querySelector("marp-auto-scaling, [data-auto-scaling], [data-marp-fitting]");t.setAttribute(`${c}load`,e?"":"hideable")}}))},I=({interval:e=250}={})=>t=>{document.addEventListener("keydown",(e=>{if(" "===e.key&&e.shiftKey)t.prev();else if("ArrowLeft"===e.key||"ArrowUp"===e.key||"PageUp"===e.key)t.prev({fragment:!e.shiftKey});else if(" "!==e.key||e.shiftKey)if("ArrowRight"===e.key||"ArrowDown"===e.key||"PageDown"===e.key)t.next({fragment:!e.shiftKey});else if("End"===e.key)t.slide(t.slides.length-1,{fragment:-1});else{if("Home"!==e.key)return;t.slide(0)}else t.next();e.preventDefault()}));let n,r,o=0;t.parent.addEventListener("wheel",(i=>{let a=!1;const s=(e,t)=>{e&&(a=a||((e,t)=>((e,t)=>{const n="X"===t?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]})(e,t)&&((e,t)=>{const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r})(getComputedStyle(e),t))(e,t)),(null==e?void 0:e.parentElement)&&s(e.parentElement,t)};if(0!==i.deltaX&&s(i.target,"X"),0!==i.deltaY&&s(i.target,"Y"),a)return;i.preventDefault();const l=Math.sqrt(i.deltaX**2+i.deltaY**2);if(void 0!==i.wheelDelta){if(void 0===i.webkitForce&&Math.abs(i.wheelDelta)<40)return;if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<4)return}else if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<12)return;r&&clearTimeout(r),r=setTimeout((()=>{n=0}),e);const c=Date.now()-o<e,d=l<=n;if(n=l,c||d)return;let u;(i.deltaX>0||i.deltaY>0)&&(u="next"),(i.deltaX<0||i.deltaY<0)&&(u="prev"),u&&(t[u](),o=Date.now())}))},M=(e=`.${l}osc`)=>{const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[${c}osc=${JSON.stringify(e)}]`).forEach(n)};return k()||n("fullscreen",(e=>e.style.display="none")),g||n("presenter",(e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."})),e=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;n&&t.target.blur();const r={fragment:!t.shiftKey};"next"===n?e.next(r):"prev"===n?e.prev(r):"fullscreen"===n?null==e||e.fullscreen():"presenter"===n&&e.openPresenterView()}})),e.parent.appendChild(t),e.on("activate",(({index:t})=>{n("page",(n=>n.textContent=`Page ${t+1} of ${e.slides.length}`))})),e.on("fragment",(({index:t,fragments:r,fragmentIndex:o})=>{n("prev",(e=>e.disabled=0===t&&0===o)),n("next",(n=>n.disabled=t===e.slides.length-1&&o===r.length-1))})),e.on("marp-active",(()=>y(t,!1))),e.on("marp-inactive",(()=>y(t,!0))),k()&&(e=>{for(const t of["","webkit"])x.addEventListener(t+"fullscreenchange",e)})((()=>n("fullscreen",(e=>e.classList.toggle("exit",k()&&$())))))}},O=e=>{window.addEventListener("message",(t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let o=Number.parseInt(t,10),i=Number.parseInt(n,10)+1;i>=e.fragments[o].length&&(o+=1,i=0),e.slide(o,{fragment:i})}}))};var A=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];let C=e=>String(e).replace(/[&<>"']/g,(e=>`&${D[e]};`)),D={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},N="dangerouslySetInnerHTML",B={className:"class",htmlFor:"for"},q={};function K(e,t){let n=[],r="";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==N&&(r+=` ${B[e]?B[e]:C(e)}="${C(t[e])}"`);r+=">"}if(-1===A.indexOf(e)){if(t[N])r+=t[N].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===q[e]?e:C(e)}r+=e?`</${e}>`:""}return q[r]=!0,r}const j=({children:e})=>K(null,null,...e),F=`${l}presenter-`,V={container:`${F}container`,dragbar:`${F}dragbar-container`,next:`${F}next`,nextContainer:`${F}next-container`,noteContainer:`${F}note-container`,noteWrapper:`${F}note-wrapper`,noteButtons:`${F}note-buttons`,infoContainer:`${F}info-container`,infoPage:`${F}info-page`,infoPageText:`${F}info-page-text`,infoPagePrev:`${F}info-page-prev`,infoPageNext:`${F}info-page-next`,noteButtonsBigger:`${F}note-bigger`,noteButtonsSmaller:`${F}note-smaller`,infoTime:`${F}info-time`,infoTimer:`${F}info-timer`},U=e=>{const{title:t}=document;document.title="[Presenter view]"+(t?` - ${t}`:"");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=V.container,t.appendChild(e),t.insertAdjacentHTML("beforeend",K(j,null,K("div",{class:V.nextContainer},K("iframe",{class:V.next,src:"?view=next"})),K("div",{class:V.dragbar}),K("div",{class:V.noteContainer},K("div",{class:V.noteWrapper}),K("div",{class:V.noteButtons},K("button",{class:V.noteButtonsSmaller,tabindex:"-1",title:"Smaller notes font size"},"Smaller notes font size"),K("button",{class:V.noteButtonsBigger,tabindex:"-1",title:"Bigger notes font size"},"Bigger notes font size"))),K("div",{class:V.infoContainer},K("div",{class:V.infoPage},K("button",{class:V.infoPagePrev,tabindex:"-1",title:"Previous"},"Previous"),K("span",{class:V.infoPageText}),K("button",{class:V.infoPageNext,tabindex:"-1",title:"Next"},"Next")),K("time",{class:V.infoTime,title:"Current time"}),K("time",{class:V.infoTimer,title:"Timer"})))),t})(e.parent)),(e=>{let t=!1;r(V.dragbar).addEventListener("mousedown",(()=>{t=!0,r(V.dragbar).classList.add("active")})),window.addEventListener("mouseup",(()=>{t=!1,r(V.dragbar).classList.remove("active")})),window.addEventListener("mousemove",(e=>{if(!t)return;const n=e.clientX/document.documentElement.clientWidth*100;r(V.container).style.setProperty("--bespoke-marp-presenter-split-ratio",`${Math.max(0,Math.min(100,n))}%`)})),r(V.nextContainer).addEventListener("click",(()=>e.next()));const n=r(V.next),o=(i=n,(e,t)=>{var n;return null===(n=i.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin)});var i;n.addEventListener("load",(()=>{r(V.nextContainer).classList.add("active"),o(e.slide(),e.fragmentIndex),e.on("fragment",(({index:e,fragmentIndex:t})=>o(e,t)))}));const a=document.querySelectorAll(".bespoke-marp-note");a.forEach((e=>{e.addEventListener("keydown",(e=>e.stopPropagation())),r(V.noteWrapper).appendChild(e)})),e.on("activate",(()=>a.forEach((t=>t.classList.toggle("active",t.dataset.index==e.slide())))));let s=0;const l=e=>{s=Math.max(-5,s+e),r(V.noteContainer).style.setProperty("--bespoke-marp-note-font-scale",(1.2**s).toFixed(4))},c=()=>l(1),d=()=>l(-1),u=r(V.noteButtonsBigger),f=r(V.noteButtonsSmaller);u.addEventListener("click",(()=>{u.blur(),c()})),f.addEventListener("click",(()=>{f.blur(),d()})),document.addEventListener("keydown",(e=>{"+"===e.key&&c(),"-"===e.key&&d()}),!0),e.on("activate",(({index:t})=>{r(V.infoPageText).textContent=`${t+1} / ${e.slides.length}`}));const m=r(V.infoPagePrev),g=r(V.infoPageNext);m.addEventListener("click",(t=>{m.blur(),e.prev({fragment:!t.shiftKey})})),g.addEventListener("click",(t=>{g.blur(),e.next({fragment:!t.shiftKey})})),e.on("fragment",(({index:t,fragments:n,fragmentIndex:r})=>{m.disabled=0===t&&0===r,g.disabled=t===e.slides.length-1&&r===n.length-1}));let p=new Date;const v=()=>{const e=new Date,t=e=>`${Math.floor(e)}`.padStart(2,"0"),n=e.getTime()-p.getTime(),o=t(n/1e3%60),i=t(n/1e3/60%60),a=t(n/36e5%24);r(V.infoTime).textContent=e.toLocaleTimeString(),r(V.infoTimer).textContent=`${a}:${i}:${o}`};v(),setInterval(v,250),r(V.infoTimer).addEventListener("click",(()=>{p=new Date}))})(e)},X=e=>{if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:H},presenterUrl:{enumerable:!0,get:R}}),g&&document.addEventListener("keydown",(t=>{"p"!==t.key||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())}))};function H(){const{max:e,floor:t}=Math,n=e(t(.85*window.innerWidth),640),r=e(t(.85*window.innerHeight),360);return window.open(this.presenterUrl,F+this.syncKey,`width=${n},height=${r},menubar=no,toolbar=no`)}function R(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),d(e)}const W=e=>{const t=u();return t===a&&e.appendChild(document.createElement("span")),{"":X,[i]:U,[a]:O}[t]},J=e=>{e.on("activate",(t=>{document.querySelectorAll(".bespoke-progress-parent > .bespoke-progress-bar").forEach((n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"}))}))},Y=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t},z=(e={})=>{const t={history:!0,...e};return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},o=(t={fragment:!0})=>{let n=t.fragment?Y(f("f")||""):null;((t,n)=>{const{min:r,max:o}=Math,{fragments:i,slides:a}=e,s=o(0,r(t,a.length-1)),l=o(0,r(n||0,i[s].length-1));s===e.slide()&&l===e.fragmentIndex||e.slide(s,{fragment:l})})((()=>{var t,r;if(location.hash){const[o]=location.hash.slice(1).split(":~:");if(/^\d+$/.test(o))return(null!==(t=Y(o))&&void 0!==t?t:1)-1;const i=document.getElementById(o)||document.querySelector(`a[name="${CSS.escape(o)}"]`);if(i){const{length:t}=e.slides;for(let o=0;o<t;o+=1)if(e.slides[o].contains(i)){const t=null===(r=e.fragments)||void 0===r?void 0:r[o],a=i.closest("[data-marpit-fragment]");if(t&&a){const e=t.indexOf(a);e>=0&&(n=e)}return o}}}return 0})(),n)};e.on("fragment",(({index:e,fragmentIndex:r})=>{n||m({f:0===r||r.toString()},{location:{...location,hash:`#${e+1}`},setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})})),setTimeout((()=>{o(),window.addEventListener("hashchange",(()=>r((()=>{o({fragment:!1}),m({f:void 0})})))),window.addEventListener("popstate",(()=>{n||r((()=>o()))})),n=!1}),0)}},G=(e={})=>{var t;const n=e.key||(null===(t=window.history.state)||void 0===t?void 0:t.marpBespokeSyncKey)||Math.random().toString(36).slice(2),r=`bespoke-marp-sync-${n}`;var i;i={marpBespokeSyncKey:n},m({},{setter:(e,...t)=>o({...e,...i},...t)});const a=()=>{const e=p(r);return e?JSON.parse(e):Object.create(null)},s=e=>{const t=a(),n={...t,...e(t)};return v(r,JSON.stringify(n)),n},l=()=>{window.removeEventListener("pageshow",l),s((e=>({reference:(e.reference||0)+1})))};return e=>{l(),Object.defineProperty(e,"syncKey",{value:n,enumerable:!0});let t=!0;setTimeout((()=>{e.on("fragment",(e=>{t&&s((()=>({index:e.index,fragmentIndex:e.fragmentIndex})))}))}),0),window.addEventListener("storage",(n=>{if(n.key===r&&n.oldValue&&n.newValue){const r=JSON.parse(n.oldValue),o=JSON.parse(n.newValue);if(r.index!==o.index||r.fragmentIndex!==o.fragmentIndex)try{t=!1,e.slide(o.index,{fragment:o.fragmentIndex,forSync:!0})}finally{t=!0}}}));const o=()=>{const{reference:e}=a();void 0===e||e<=1?h(r):s((()=>({reference:e-1})))};window.addEventListener("pagehide",(e=>{e.persisted&&window.addEventListener("pageshow",l),o()})),e.on("destroy",o)}},{PI:Q,abs:Z,sqrt:ee,atan2:te}=Math,ne={passive:!0},re=({slope:e=-.7,swipeThreshold:t=30}={})=>n=>{let r;const o=n.parent,i=e=>{const t=o.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};o.addEventListener("touchstart",(({touches:e})=>{r=1===e.length?i(e[0]):void 0}),ne),o.addEventListener("touchmove",(e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=i(e.touches[0]),n=t.x-r.x,o=t.y-r.y;r.delta=ee(Z(n)**2+Z(o)**2),r.radian=te(n,o)}else r=void 0})),o.addEventListener("touchend",(o=>{if(r){if(r.delta&&r.delta>=t&&r.radian){const t=(r.radian-e+Q)%(2*Q)-Q;n[t<0?"next":"prev"](),o.stopPropagation()}r=void 0}}),ne)},oe=new Map;oe.clear(),oe.set("none",{backward:{both:void 0,incoming:void 0,outgoing:void 0},forward:{both:void 0,incoming:void 0,outgoing:void 0}});const ie={both:"",outgoing:"outgoing-",incoming:"incoming-"},ae={forward:"",backward:"-backward"},se=e=>`--marp-bespoke-transition-animation-${e}`,le=e=>`--marp-transition-${e}`,ce=se("name"),de=se("duration"),ue=e=>new Promise((t=>{const n={},r=document.createElement("div"),o=e=>{r.remove(),t(e)};r.addEventListener("animationstart",(()=>o(n))),Object.assign(r.style,{animationName:e,animationDuration:"1s",animationFillMode:"both",animationPlayState:"paused",position:"absolute",pointerEvents:"none"}),document.body.appendChild(r);const i=getComputedStyle(r).getPropertyValue(le("duration"));i&&(n.defaultDuration=i),((e,t)=>{requestAnimationFrame((()=>{e.style.animationPlayState="running",requestAnimationFrame((()=>t(void 0)))}))})(r,o)})),fe=async e=>oe.has(e)?oe.get(e):(e=>{const t={},n=[];for(const[r,o]of Object.entries(ie))for(const[i,a]of Object.entries(ae)){const s=`marp-${o}transition${a}-${e}`;n.push(ue(s).then((e=>{t[i]=t[i]||{},t[i][r]=e?{...e,name:s}:void 0})))}return Promise.all(n).then((()=>t))})(e).then((t=>(oe.set(e,t),t))),me=e=>Object.values(e).flatMap(Object.values).every((e=>!e)),ge=(e,{type:t,backward:n})=>{const r=e[n?"backward":"forward"],o=(()=>{const e=r[t],n=e=>({[ce]:e.name});if(e)return n(e);if(r.both){const e=n(r.both);return"incoming"===t&&(e[se("direction")]="reverse"),e}})();return!o&&n?ge(e,{type:t,backward:!1}):o||{[ce]:"__bespoke_marp_transition_no_animation__"}},pe=e=>{if(e)try{const t=JSON.parse(e);if((e=>{if("object"!=typeof e)return!1;const t=e;return"string"==typeof t.name&&(void 0===t.duration||"string"==typeof t.duration)})(t))return t}catch(e){}},ve="_tSId",he="_tA",ye="bespoke-marp-transition-warming-up",be=window.matchMedia("(prefers-reduced-motion: reduce)"),we="__bespoke_marp_transition_reduced_outgoing__",xe="__bespoke_marp_transition_reduced_incoming__",ke={forward:{both:void 0,incoming:{name:xe},outgoing:{name:we}},backward:{both:void 0,incoming:{name:xe},outgoing:{name:we}}},$e=e=>{if(!document.startViewTransition)return;const t=t=>(void 0!==t&&(e._tD=t),e._tD);let n;t(!1),((...e)=>{const t=[...new Set(e).values()];return Promise.all(t.map((e=>fe(e)))).then()})(...Array.from(document.querySelectorAll("section[data-transition], section[data-transition-back]")).flatMap((e=>[e.dataset.transition,e.dataset.transitionBack].flatMap((e=>{const t=pe(e);return[null==t?void 0:t.name,(null==t?void 0:t.builtinFallback)?`__builtin__${t.name}`:void 0]})).filter((e=>!!e))))).then((()=>{document.querySelectorAll("style").forEach((e=>{e.innerHTML=e.innerHTML.replace(/--marp-transition-duration:[^;}]*[;}]/g,(e=>e.slice(0,-1)+"!important"+e.slice(-1)))}))}));const r=(n,{back:r,cond:o})=>i=>{var a;const s=t();if(s)return!!i[he]||!("object"!=typeof s||(s.skipTransition(),!i.forSync));if(!o(i))return!0;const l=e.slides[e.slide()],c=()=>{var e;return null!==(e=i.back)&&void 0!==e?e:r},d="data-transition"+(c()?"-back":""),u=l.querySelector(`section[${d}]`);if(!u)return!0;const f=pe(null!==(a=u.getAttribute(d))&&void 0!==a?a:void 0);return!f||((async(e,{builtinFallback:t=!0}={})=>{let n=await fe(e);if(me(n)){if(!t)return;return n=await fe(`__builtin__${e}`),me(n)?void 0:n}return n})(f.name,{builtinFallback:f.builtinFallback}).then((e=>{if(!e){t(!0);try{n(i)}finally{t(!1)}return}let r=e;be.matches&&(console.warn("Use a constant animation to transition because preferring reduced motion by viewer has detected."),r=ke);const o=document.getElementById(ve);o&&o.remove();const a=document.createElement("style");a.id=ve,document.head.appendChild(a),((e,t)=>{const n=[`:root{${le("direction")}:${t.backward?-1:1};}`,":root:has(.bespoke-marp-inactive){cursor:none;}"],r=t=>{var n,o,i;const a=(null===(n=e[t].both)||void 0===n?void 0:n.defaultDuration)||(null===(o=e[t].outgoing)||void 0===o?void 0:o.defaultDuration)||(null===(i=e[t].incoming)||void 0===i?void 0:i.defaultDuration);return"forward"===t?a:a||r("forward")},o=t.duration||r(t.backward?"backward":"forward");void 0!==o&&n.push(`::view-transition-group(*){${de}:${o};}`);const i=e=>Object.entries(e).map((([e,t])=>`${e}:${t};`)).join("");return n.push(`::view-transition-old(root){${i(ge(e,{...t,type:"outgoing"}))}}`,`::view-transition-new(root){${i(ge(e,{...t,type:"incoming"}))}}`),n})(r,{backward:c(),duration:f.duration}).forEach((e=>{var t;return null===(t=a.sheet)||void 0===t?void 0:t.insertRule(e)}));const s=document.documentElement.classList;s.add(ye);let l=!1;const d=()=>{l||(n(i),l=!0,s.remove(ye))},u=()=>{t(!1),a.remove(),s.remove(ye)};try{t(!0);const e=document.startViewTransition(d);t(e),e.finished.finally(u)}catch(e){console.error(e),d(),u()}})),!1)};e.on("prev",r((t=>e.prev({...t,[he]:!0})),{back:!0,cond:e=>{var t;return e.index>0&&!((null===(t=e.fragment)||void 0===t||t)&&n.fragmentIndex>0)}})),e.on("next",r((t=>e.next({...t,[he]:!0})),{cond:t=>t.index+1<e.slides.length&&!(n.fragmentIndex+1<n.fragments.length)})),setTimeout((()=>{e.on("slide",r((t=>e.slide(t.index,{...t,[he]:!0})),{cond:t=>{const n=e.slide();return t.index!==n&&(t.back=t.index<n,!0)}}))}),0),e.on("fragment",(e=>{n=e}))};let Ee;const Le=()=>(void 0===Ee&&(Ee="wakeLock"in navigator&&navigator.wakeLock),Ee),Se=async()=>{const e=Le();if(e)try{return await e.request("screen")}catch(e){console.warn(e)}return null},Pe=async()=>{if(!Le())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&Se()};for(const e of["visibilitychange","fullscreenchange"])document.addEventListener(e,t);return e=await Se(),e};((e=document.getElementById(":$p"))=>{(()=>{const e=f("view");r.dataset.bespokeView=e===a||e===i?e:""})();const t=(e=>{const t=f(e);return m({[e]:void 0}),t})("sync")||void 0;n.from(e,((...e)=>{const t=s.findIndex((e=>u()===e));return e.map((([e,n])=>e[t]&&n)).filter((e=>e))})([[1,1,0],G({key:t})],[[1,1,1],W(e)],[[1,1,0],_],[[1,1,1],b],[[1,0,0],S()],[[1,1,1],T],[[1,1,1],z({history:!1})],[[1,1,0],I()],[[1,1,0],E],[[1,0,0],J],[[1,1,0],re()],[[1,0,0],M()],[[1,0,0],$e],[[1,1,1],w],[[1,1,0],Pe]))})()}();</script></body></html>